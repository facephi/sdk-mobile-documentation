<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-ios docs-version-current docs-doc-page docs-doc-id-Video_Recording_Component" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Video recording component | SDK Mobile Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://facephi.github.io/sdk-mobile-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://facephi.github.io/sdk-mobile-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://facephi.github.io/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-ios-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-ios-current"><meta data-rh="true" property="og:title" content="Video recording component | SDK Mobile Documentation"><meta data-rh="true" name="description" content="0. Mobile SDK base requirements"><meta data-rh="true" property="og:description" content="0. Mobile SDK base requirements"><link data-rh="true" rel="icon" href="/sdk-mobile-documentation/img/icon.png"><link data-rh="true" rel="canonical" href="https://facephi.github.io/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component" hreflang="en"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/es/docs/ios/next/Video_Recording_Component" hreflang="es"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component" hreflang="x-default"><link rel="stylesheet" href="/sdk-mobile-documentation/assets/css/styles.23867890.css">
<script src="/sdk-mobile-documentation/assets/js/runtime~main.4dce23db.js" defer="defer"></script>
<script src="/sdk-mobile-documentation/assets/js/main.6f711223.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sdk-mobile-documentation/"><div class="navbar__logo"><img src="/sdk-mobile-documentation/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sdk-mobile-documentation/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SDK Mobile Documentation</b></a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/android/Mobile_SDK">Android</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/ios/next/Mobile_SDK">iOS</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/flutter/Mobile_SDK">Flutter</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/cordova/Mobile_SDK">Cordova</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/react/Mobile_SDK">React Native</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/docs/capacitor/Mobile_SDK">Capacitor</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-android" href="/sdk-mobile-documentation/docs/android/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/next/Mobile_SDK">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/Mobile_SDK">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/1.5.6/Mobile_SDK">1.5.6</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/1.5.5/Mobile_SDK">1.5.5</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/1.5.4/Mobile_SDK">1.5.4</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/1.5.3/Mobile_SDK">1.5.3</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/android/1.5.2/Mobile_SDK">1.5.2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-ios" href="/sdk-mobile-documentation/docs/ios/next/Mobile_SDK">SNAPSHOT ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/ios/Video_Recording_Component">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/ios/1.5.X/Video_Recording_Component">1.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-flutter" href="/sdk-mobile-documentation/docs/flutter/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/flutter/next/Mobile_SDK">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/flutter/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-cordova" href="/sdk-mobile-documentation/docs/cordova/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/cordova/next/Mobile_SDK">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/cordova/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-react" href="/sdk-mobile-documentation/docs/react/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/react/next/Mobile_SDK">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/react/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-capacitor" href="/sdk-mobile-documentation/docs/capacitor/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/capacitor/next/Mobile_SDK">SNAPSHOT ðŸš§</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/docs/capacitor/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/sdk-mobile-documentation/es/docs/ios/next/Video_Recording_Component" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">EspaÃ±ol</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/sdk-mobile-documentation/docs/ios/next/Mobile_SDK">iOS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Mobile_SDK">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Phingers_Component">Phingers Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Tracking_Component">Tracking Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Selphi_Component">Selphi Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/SelphID_Component">SelphID Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Voice_Component">Voice Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/NFC_Component">NFC Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Video_Call_Component">Video Call Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Video_Id_Component">Video Id Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Video_Recording_Component">Video recording component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/docs/ios/next/Sample_applications_use">Sample Applications</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->SDK Mobile Documentation<!-- --> <b>SNAPSHOT ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/sdk-mobile-documentation/docs/ios/Video_Recording_Component">latest version</a></b> (<!-- -->2.0.X<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sdk-mobile-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">iOS</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Video recording component</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: SNAPSHOT ðŸš§</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Video recording component</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="0-mobile-sdk-base-requirements">0. Mobile SDK base requirements<a href="#0-mobile-sdk-base-requirements" class="hash-link" aria-label="Direct link to 0. Mobile SDK base requirements" title="Direct link to 0. Mobile SDK base requirements">â€‹</a></h2>
<p><strong>SDK Mobile</strong> is a set of libraries (<strong>Components</strong>) that offers
a series of functionalities and services, allowing in turn its
integration into a mobile application in a simple and completely
scalable. Depending on the use case required, it must be
perform the installation of certain components. Its high level
Modularity allows, in the future, to add other
new components without affecting in any way those already integrated into the
project.</p>
<p>For more information on the base configuration, go to the section
<a href="Mobile_SDK" linked-data-resource-id="2605285492" linked-data-resource-version="11" data-linked-resource-type="page">Mobile SDK</a>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-introduction">1. Introduction<a href="#1-introduction" class="hash-link" aria-label="Direct link to 1. Introduction" title="Direct link to 1. Introduction">â€‹</a></h2>
<p>The <em>Component</em> discussed in the current document is called
<strong><em>VideoRecording Component</em></strong>. This is responsible for capturing the screen
of the device in the background. It is mainly oriented for
recording of the onboarding process.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-minimum-requirements">1.1 Minimum requirements<a href="#11-minimum-requirements" class="hash-link" aria-label="Direct link to 1.1 Minimum requirements" title="Direct link to 1.1 Minimum requirements">â€‹</a></h2>
<p>The minimum iOS SDK version required is as follows:</p>
<p>Minimum iOS version: <strong>13</strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-component-integration">2. Component integration<a href="#2-component-integration" class="hash-link" aria-label="Direct link to 2. Component integration" title="Direct link to 2. Component integration">â€‹</a></h2>
<p>Before integrating this component, it is recommended to read the documentation
Relative to:</p>
<p><a href="Mobile_SDK" data-linked-resource-id="2605285492" data-linked-resource-version="11" data-linked-resource-type="page"><strong><u>Mobile SDK</u></strong></a>
and follow the instructions indicated in said document.</p>
<p>This section will explain step by step how to integrate the component
current in an existing project.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-creating-the-extension">2.1 Creating the extension<a href="#21-creating-the-extension" class="hash-link" aria-label="Direct link to 2.1 Creating the extension" title="Direct link to 2.1 Creating the extension">â€‹</a></h3>
<p>For the documented example, an app with SwiftUI has been used, but the component and documentation are valid regardless of whether UIKit or SwiftUI is used.</p>
<p>In our project we add a new target of type <em><strong>Broadcast Upload Extension:</strong></em></p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-001-e2d7a316b1aaefbe41102de4a2c6ba0a.png" width="1648" height="1392" class="img_ev3q"></p>
<p>We configure the name of the extension, in this example it will be VideoRecording:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-002-1e32a36560668a16c1f13b5133ed52a1.png" width="1456" height="1040" class="img_ev3q"></p>
<p>If the following modal appears, click activate:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-003-50b0a3656841b43e169675d51c41b3e7.png" width="556" height="738" class="img_ev3q"></p>
<p>This generates the following structure:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-004-b0670f978445e45d85718b624c5ad29f.png" width="1988" height="592" class="img_ev3q"></p>
<p>Where SampleHandler is the main class of the extension.</p>
<p><strong>NOTE: It is important to keep in mind that the version number (MARKETING_VERSION) and the project version number must always be the same in both targets:</strong></p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-005-9b6c1727c54bad4af74e2738c0a548f2.png" width="2824" height="420" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-creating-the-shared-app-group">2.2 Creating the shared App Group<a href="#22-creating-the-shared-app-group" class="hash-link" aria-label="Direct link to 2.2 Creating the shared App Group" title="Direct link to 2.2 Creating the shared App Group">â€‹</a></h3>
<p>If we don&#x27;t already have it in our app, we can create a new Capability of type App Group.</p>
<p>This will serve to create the shared container between our extension and the application target.</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-006-561a9dd21dbd96a080937d1a105bf362.png" width="754" height="460" class="img_ev3q"></p>
<p>We assign a name to the new App Group after clicking on the + icon:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-007-f1694162b5f899e58a8aa5ce8ac19b5a.png" width="1224" height="750" class="img_ev3q"></p>
<p>We select the same identifier in our extension. In this way both will have checked the App Group that we just created:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-008-4c8b0f00a3e68c71b8a9e660aa66e423.png" width="1328" height="578" class="img_ev3q"></p>
<p>XCode will automatically generate or update the entitlement files involved to add the capability to each target:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-009-9b698b5da86c9059adeca6928e2382f8.png" width="2880" height="460" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-dependencies-required-for-integration">2.3 Dependencies required for integration<a href="#23-dependencies-required-for-integration" class="hash-link" aria-label="Direct link to 2.3 Dependencies required for integration" title="Direct link to 2.3 Dependencies required for integration">â€‹</a></h3>
<blockquote><p></p><p>To avoid conflicts and compatibility problems, if you want to install the component in a project that contains an old version of the Facephi libraries (Widgets), these must be completely removed before installing the SDKMobile components.</p><p></p></blockquote>
<p>Currently FacePhi libraries are distributed remotely through different dependency managers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="231-cocoapods">2.3.1 Cocoapods<a href="#231-cocoapods" class="hash-link" aria-label="Direct link to 2.3.1 Cocoapods" title="Direct link to 2.3.1 Cocoapods">â€‹</a></h3>
<p>The <strong>mandatory</strong> dependencies that must have been previously installed (adding them to the project&#x27;s Podfile file) are:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;FPHISDKMainComponent&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>It is recommended to also use the VideoRecording component with the tracking component (<code>FPHISDKTrackingComponent</code>).</p>
</li>
<li>
<p>To install the current component, the following entry must be included in the application&#x27;s Podfile:</p>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;FPHISDKVideoRecordingComponent&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>This dependency must be declared within the target of the app and the extension (the latter will be explained below)</p>
</li>
<li>
<p>An example of what the Podfile would look like:</p>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">target &#x27;demoApp&#x27; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pod &#x27;FPHISDKMainComponent&#x27;, &#x27;X.Y.Z&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pod &#x27;FPHISDKVideoRecordingComponent&#x27;, &#x27;A.B.C&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pod &#x27;FPHISDKTrackingComponent&#x27;, &#x27;D.E.F&#x27; ### Optional, recommended</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target &#x27;VideoRecording&#x27; do ### Our extension target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   use_frameworks! ### We want to use frameworks instead of Static Libs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pod &#x27;FPHISDKVideoRecordingComponent&#x27;, &#x27;A.B.C&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>NOTE: You have to be careful to put the extension target outside the application target. Failure to do so would cause the application pods to also be compiled into the extension, resulting in collateral problems.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="232-spm">2.3.2 SPM<a href="#232-spm" class="hash-link" aria-label="Direct link to 2.3.2 SPM" title="Direct link to 2.3.2 SPM">â€‹</a></h4>
<p>We add our dependency to the project and assign it to the VideoRecording target:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-010-305c0dc6e8ba588fae482db4b1ff817d.png" width="2170" height="1218" class="img_ev3q"></p>
<p>We must then also add it to the target of the app in General â†’ Framework, Libraries and Embedded Content:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-011-4dbde20e070d491c2ddc17a7cb98fa89.png" width="1260" height="1012" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-implement-the-extension">2.4 Implement the extension<a href="#24-implement-the-extension" class="hash-link" aria-label="Direct link to 2.4 Implement the extension" title="Direct link to 2.4 Implement the extension">â€‹</a></h3>
<p>At this point we must develop the functionality in our newly created SampleHandler.swift. To do this, we copy/replace the following code:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class SampleHandler: RPBroadcastSampleHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var bufferCopy: CMSampleBuffer?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var lastSendTs = Int64(Date().timeIntervalSince1970 * 1000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var timer: Timer?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Shared info between app and extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private let kAppGroupName = &quot;group.com.facephi.sdk.demo&quot; // SET YOUR APP_GROUP_NAME, you can get it from your entitlements&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastStarted(withSetupInfo setupInfo: [String: NSObject]?) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Load shared info from app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let sharedContainer = UserDefaults(suiteName: kAppGroupName)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let uid = sharedContainer.string(forKey: &quot;UID&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let token = sharedContainer.string(forKey: &quot;TOKEN&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let channel = sharedContainer.string(forKey: &quot;CHANNEL&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Passing data to app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sharedContainer.setValue(true, forKey: &quot;BROADCASTSTARTED&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sharedContainer.synchronize()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;uid: \(uid)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;token: \(token)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;channelName: \(channel)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In-App Screen Capture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.startBroadcast(uid: uid, token: token, channel: channel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.sharedAgoraEngine.delegate = self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DispatchQueue.main.async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self.timer = Timer.scheduledTimer(withTimeInterval: 0.1, repeats: true) { [weak self] (_: Timer) in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                guard let weakSelf = self else { return }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                let elapse = Int64(Date().timeIntervalSince1970 * 1000) - weakSelf.lastSendTs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                print(&quot;elapse: \(elapse)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // if frame stopped sending for too long time, resend the last frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // to avoid stream being frozen when viewed from remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if elapse &gt; 300 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if let buffer = weakSelf.bufferCopy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        weakSelf.processSampleBuffer(buffer, with: .video)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastPaused() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // User has requested to pause the broadcast. Samples will stop being delivered.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastResumed() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // User has requested to resume the broadcast. Samples delivery will resume.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastFinished() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer?.invalidate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer = nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.stopBroadcast()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func processSampleBuffer(_ sampleBuffer: CMSampleBuffer, with sampleBufferType: RPSampleBufferType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DispatchQueue.main.async { [weak self] in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            switch sampleBufferType {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case .video:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if let weakSelf = self {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    weakSelf.bufferCopy = sampleBuffer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    weakSelf.lastSendTs = Int64(Date().timeIntervalSince1970 * 1000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                AgoraUploader.sendVideoBuffer(sampleBuffer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @unknown default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>NOTE: Make sure you enter the correct App Group Name on line 6. In our example it was group.com.facephi.demosdk-videoRecording.</strong></p>
<p>You can optionally listen to the various events that occur when the user interacts with the recording functionality by making the SampleHandler class extend <code>AgoraRtcEngineDelegate</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import AgoraRtcKit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extension SampleHandler: AgoraRtcEngineDelegate {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when warning occured for agora sdk, warning can usually be ignored, still it&#x27;s nice to check out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// what is happening</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Warning code description can be found at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// en: https://docs.agora.io/en/Voice/API%20Reference/oc/Constants/AgoraWarningCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// cn: https://docs.agora.io/cn/Voice/API%20Reference/oc/Constants/AgoraWarningCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param warningCode warning code of the problem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOccurWarning warningCode: AgoraWarningCode) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when error occured for agora sdk, you are recommended to display the error descriptions on demand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// to let user know something wrong is happening</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Error code description can be found at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// en: https://docs.agora.io/en/Voice/API%20Reference/oc/Constants/AgoraErrorCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// cn: https://docs.agora.io/cn/Voice/API%20Reference/oc/Constants/AgoraErrorCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param errorCode error code of the problem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOccurError errorCode: AgoraErrorCode) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when the local user joins a specified channel.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param channel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of local user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param elapsed time elapse since current sdk instance join the channel in ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinChannel channel: String, withUid uid: UInt, elapsed: Int) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when a remote user is joinning the channel, note audience in live broadcast mode will NOT trigger this event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of remote joined user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param elapsed time elapse since current sdk instance join the channel in ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinedOfUid uid: UInt, elapsed: Int) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when a remote user is leaving the channel, note audience in live broadcast mode will NOT trigger this event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of remote joined user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param reason reason why this user left, note this event may be triggered when the remote user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// become an audience in live broadcasting profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOfflineOfUid uid: UInt, reason: AgoraUserOfflineReason) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Replace domain&#x27;s value with your Bundle Identifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let error = NSError(domain: &quot;com.facephi.demosdk-videoRecording&quot;, code: 0, userInfo: [NSLocalizedDescriptionKey: NSLocalizedString(&quot;Call ended&quot;, comment: &quot;&quot;)])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        finishBroadcastWithError(error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-start-new-operation">3. Start new operation<a href="#3-start-new-operation" class="hash-link" aria-label="Direct link to 3. Start new operation" title="Direct link to 3. Start new operation">â€‹</a></h2>
<p>When you want to perform a certain operation, to generate the associated information correctly on the platform, the <strong>newOperation</strong> command must be previously executed.</p>
<blockquote><p></p><p>This command must always be executed. To learn more about how to start a new operation, it is recommended to consult the Core Component documentation, which details and explains what this process entails.</p><p></p></blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-use-of-component">4. Use of component<a href="#4-use-of-component" class="hash-link" aria-label="Direct link to 4. Use of component" title="Direct link to 4. Use of component">â€‹</a></h2>
<p>Once the component has been started and a new operation has been created (section 3), the SDK components can be launched. There are two ways to launch the component:</p>
<ul>
<li><strong>[NO TRACKING]</strong> This call allows the component&#x27;s functionality to be launched normally, but <strong>no event will be tracked</strong> to the tracking server:</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let controller = VideoRecordingController(data: VideoRecordingConfigurationData(), appGroupName: &quot;group.com.facephi.demosdk-videoRecording&quot;, extensionName: &quot;VideoRecording&quot;, output: { _ in })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDKController.shared.launchMethod(controller: controller)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>[WITH TRACKING]</strong> This call allows the component&#x27;s functionality to be launched normally, but internal events to the tracking server will be tracked:</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let controller = VideoRecordingController(data: VideoRecordingConfigurationData(), appGroupName: &quot;group.com.facephi.demosdk-videoRecording&quot;, extensionName: &quot;VideoRecording&quot;, output: { _ in })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDKController.shared.launch(controller: controller)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote><p></p><p>The <strong>launch</strong> method should be used <strong>by default</strong>. This method allows you to use <strong>tracking</strong> if your component is activated, and will not use it when it is deactivated (or the component is not installed).</p><p>On the contrary, the <strong>launchMethod</strong> method covers a special case, in which the integrator has tracking installed and activated, but in a given flow within the application they do not want to track information. In that case, this method is used to prevent that information from being sent to the platform.</p><p></p></blockquote>
<p>In the configuration data (<em>VideoRecordingConfigurationData</em>) you can also modify:</p>
<ul>
<li>
<p><strong>Optional data that is normally included within the license</strong></p>
<ul>
<li><strong>url</strong>: Path to the video socket.</li>
<li><strong>apiKey</strong>: ApiKey required for connection to the video socket.</li>
<li><strong>tenantId</strong>: Tenant identifier that refers to the current client, necessary for the connection to the video service.</li>
<li><strong>extractionTimeout</strong>: How long (milliseconds) will the component wait for the socket before generating a timeout error.</li>
<li><strong>showDiagnostic</strong>: If an error occurs, the error will be displayed on the screen in addition to being sent with the output.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-component-customization">5. Component customization<a href="#5-component-customization" class="hash-link" aria-label="Direct link to 5. Component customization" title="Direct link to 5. Component customization">â€‹</a></h2>
<p>Right now there are no resources to configure in the component.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-common-errors-and-problems">6. Common errors and problems<a href="#6-common-errors-and-problems" class="hash-link" aria-label="Direct link to 6. Common errors and problems" title="Direct link to 6. Common errors and problems">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-at-compile-time">6.1 At compile time<a href="#61-at-compile-time" class="hash-link" aria-label="Direct link to 6.1 At compile time" title="Direct link to 6.1 At compile time">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="611-write-permissions---sandbox-rsyncsamba67364-deny1-file-write-create">6.1.1 Write permissions - Sandbox: rsync.samba(67364) deny(1) file-write-create<a href="#611-write-permissions---sandbox-rsyncsamba67364-deny1-file-write-create" class="hash-link" aria-label="Direct link to 6.1.1 Write permissions - Sandbox: rsync.samba(67364) deny(1) file-write-create" title="Direct link to 6.1.1 Write permissions - Sandbox: rsync.samba(67364) deny(1) file-write-create">â€‹</a></h4>
<p>If you see a compilation error regarding write permissions:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-012-754d49db4b70295687ba933874acda8f.png" width="1570" height="282" class="img_ev3q"></p>
<p>Check the status in Build Settings of the parameter <strong>ENABLE_USER_SCRIPT_SANDBOXING</strong>, its value must be <strong>NO</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-013-ac369fe2aaeeb1149ac7a0cf63b425f6.png" width="1580" height="484" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-at-runtime">6.2 At runtime<a href="#62-at-runtime" class="hash-link" aria-label="Direct link to 6.2 At runtime" title="Direct link to 6.2 At runtime">â€‹</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="621-starscream---exc_bad_access">6.2.1 Starscream - EXC_BAD_ACCESS<a href="#621-starscream---exc_bad_access" class="hash-link" aria-label="Direct link to 6.2.1 Starscream - EXC_BAD_ACCESS" title="Direct link to 6.2.1 Starscream - EXC_BAD_ACCESS">â€‹</a></h4>
<p>When launching the component an error may appear in the Starscream dependency:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-014-2a25737a313f66bb30fbfaf0db333706.png" width="1510" height="660" class="img_ev3q"></p>
<p><em><strong>Workaround</strong></em> - Upload the minimum Pod version from iOS11 to iOS12:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/assets/images/videoRecording-015-bb86fd0a9e0835fd15cfc2d56e50099a.png" width="1588" height="250" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/sdk-mobile-documentation/docs/ios/next/Video_Id_Component"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Video Id Component</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sdk-mobile-documentation/docs/ios/next/Sample_applications_use"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Sample Applications</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0-mobile-sdk-base-requirements" class="table-of-contents__link toc-highlight">0. Mobile SDK base requirements</a></li><li><a href="#1-introduction" class="table-of-contents__link toc-highlight">1. Introduction</a></li><li><a href="#11-minimum-requirements" class="table-of-contents__link toc-highlight">1.1 Minimum requirements</a></li><li><a href="#2-component-integration" class="table-of-contents__link toc-highlight">2. Component integration</a><ul><li><a href="#21-creating-the-extension" class="table-of-contents__link toc-highlight">2.1 Creating the extension</a></li><li><a href="#22-creating-the-shared-app-group" class="table-of-contents__link toc-highlight">2.2 Creating the shared App Group</a></li><li><a href="#23-dependencies-required-for-integration" class="table-of-contents__link toc-highlight">2.3 Dependencies required for integration</a></li><li><a href="#231-cocoapods" class="table-of-contents__link toc-highlight">2.3.1 Cocoapods</a></li><li><a href="#24-implement-the-extension" class="table-of-contents__link toc-highlight">2.4 Implement the extension</a></li></ul></li><li><a href="#3-start-new-operation" class="table-of-contents__link toc-highlight">3. Start new operation</a></li><li><a href="#4-use-of-component" class="table-of-contents__link toc-highlight">4. Use of component</a></li><li><a href="#5-component-customization" class="table-of-contents__link toc-highlight">5. Component customization</a></li><li><a href="#6-common-errors-and-problems" class="table-of-contents__link toc-highlight">6. Common errors and problems</a><ul><li><a href="#61-at-compile-time" class="table-of-contents__link toc-highlight">6.1 At compile time</a></li><li><a href="#62-at-runtime" class="table-of-contents__link toc-highlight">6.2 At runtime</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 SDK Mobile, Facephi.</div></div></div></footer></div>
</body>
</html>