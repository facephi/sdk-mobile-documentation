<!DOCTYPE html>
<html>
    <head>
        <title>Documentación Desarrollo : [1.5.X][EN] SelphID Component</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Documentación Desarrollo</a></span>
                            </li>
                                                    <li>
                                <span><a href="Android_2405531672.html">Android</a></span>
                            </li>
                                                    <li>
                                <span><a href="2605678593.html">[1.5.X][EN] Android Mobile SDK</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Documentación Desarrollo : [1.5.X][EN] SelphID Component
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
        
            Created by <span class='author'> Armando Bueno Ben</span>, last modified on dic 11, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This document refers to the <strong>1.5.X version </strong>of the component</p></div></div><style type='text/css'>/*<![CDATA[*/
div.rbtoc1705394363562 {padding: 0px;}
div.rbtoc1705394363562 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1705394363562 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1705394363562'>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-0.SDKMobilebaselinerequirements'>0. SDK Mobile baseline requirements</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-1.Introduction'>1. Introduction</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-2.Integrationofthecomponent'>2. Integration of the component</a>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-2.1.Dependenciesrequiredforintegration'>2.1. Dependencies required for integration</a></li>
</ul>
</li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-3.Startanewoperation'>3. Start a new operation</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-4.Availablecontrollers'>4. Available controllers</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.Componentconfiguration'>5. Component configuration</a>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.ClassSelphIDConfigurationData'>5.1. Class SelphIDConfigurationData</a>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.0.debug'>5.1.0. debug</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.1.resourcesPath'>5.1.1. resourcesPath</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.2.wizardMode'>5.1.2. wizardMode</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.3.showResultAfterCapture'>5.1.3. showResultAfterCapture</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.4.showTutorial'>5.1.4. showTutorial</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.5.tutorialOnly'>5.1.5. tutorialOnly</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.6.scanMode'>5.1.6. scanMode</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.7specificData'>5.1.7 specificData</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.8locale'>5.1.8 locale</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.9fullscreen'>5.1.9 fullscreen</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.9tokenImageQuality'>5.1.9 tokenImageQuality</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.10.documentType'>5.1.10. documentType</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.11documentSide'>5.1.11 documentSide</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.12timeout'>5.1.12 timeout</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.13videoFilename'>5.1.13 videoFilename</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.14DocumentModels'>5.1.14 DocumentModels</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.15generateRawImages'>5.1.15 generateRawImages</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.16tokenPreviousCaptureData'>5.1.16 tokenPreviousCaptureData</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.17translationsContent'>5.1.17 translationsContent</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-5.1.18viewsContent'>5.1.18 viewsContent</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-6.Componentuse'>6. Component use</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.Receiptoftheresult'>7. Receipt of the result</a>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.1.Receiptoferrors'>7.1. Receipt of errors</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.Receiptofcorrectexecution-data'>7.2. Receipt of correct execution - data</a>
<ul class='toc-indentation'>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.1frontDocument/tokenFrontDocument:'>7.2.1 frontDocument / tokenFrontDocument:</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.2backDocument/tokenBackDocument'>7.2.2 backDocument / tokenBackDocument</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.3faceImage/tokenFaceImage'>7.2.3 faceImage / tokenFaceImage</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.4documentCaptured'>7.2.4 documentCaptured</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.5matchingSidesScore'>7.2.5 matchingSidesScore</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.6PropiedadcaptureProgress'>7.2.6 Propiedad captureProgress</a></li>
<li><a href='#id-[1.5.X][EN]SelphIDComponent-7.2.7ocrResults'>7.2.7 ocrResults</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><h2 id="id-[1.5.X][EN]SelphIDComponent-0.SDKMobilebaselinerequirements">0. SDK Mobile baseline requirements</h2><p><strong>SDK Mobile </strong>is a set of libraries (Components) that offer a series of functionalities and services, allowing their integration into a Mobile application in a simple and fully scalable way. Certain components must be installed depending on the use case required. Its high level of modularity allows other new components to be added in the future without affecting those already integrated into the project.</p><p>For more information on the base configuration, go to the <a href="2605678593.html" data-linked-resource-id="2605678593" data-linked-resource-version="15" data-linked-resource-type="page">Android Mobile SDK</a> section.</p><p /><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-1.Introduction">1. Introduction</h2><p>The <em>Component </em>dealt with in the current document is called <em><strong>SelphID Component</strong></em>. It is in charge of capturing documents and the subsequent extraction and analysis of their data. Its main functionalities are the following:</p><ul><li><p>Internal management of cameras.</p></li><li><p>Permits management.</p></li><li><p>Assistant in the processes of capturing the front and back of the document. Extraction of the information contained in the document.</p></li><li><p>Obtain the images of the back and reverse side of the document, as well as other images included in the document: user's face, user's signature, etc.</p></li><li><p>High level of configuration: different countries, languages, document types...</p></li></ul><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-2.Integrationofthecomponent">2. Integration of the component</h2><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>Before integrating this component, it is recommended to read the documentation related to <a href="2605678593.html" data-linked-resource-id="2605678593" data-linked-resource-version="15" data-linked-resource-type="page"><strong>Android Mobile SDK</strong></a><strong> </strong>and follow its instructions.</p></div></div><p>This section will explain step by step how to integrate the current component into an existing project.</p><h3 id="id-[1.5.X][EN]SelphIDComponent-2.1.Dependenciesrequiredforintegration">2.1. Dependencies required for integration</h3><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>To avoid conflicts and compatibility problems, if you want to install the component in a project containing an old Facephi libraries (<em>Widgets</em>) version, these must be removed entirely before installing the <em><strong>SDKMobile </strong></em>components.</p></div></div><ul><li><p>Currently, FacePhi libraries are distributed remotely through different dependency managers. <strong>Mandatory </strong>dependencies that must be installed beforehand:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">implementation &quot;com.facephi.androidsdk:selphid_component:$sdk_selphid_component_version&quot;</pre>
</div></div><p> </p></li></ul><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-3.Startanewoperation">3. Start a new operation</h2><p>When you want to perform a specific operation, in order to generate the associated information correctly in the platform, the <strong>newOperation </strong>command must first be executed. </p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>This command must have been executed <strong>before launch</strong>.</p><p>To learn more about how to start a new operation, it is recommended to consult the <a href="2605678593.html" data-linked-resource-id="2605678593" data-linked-resource-version="15" data-linked-resource-type="page"><strong>Android Mobile SDK</strong></a><strong> </strong>documentation, which details and explains what this process consists of.</p></div></div><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-4.Availablecontrollers">4. Available controllers</h2><div class="table-wrap"><table data-table-width="760" data-layout="default" data-local-id="54910f00-b80d-4d90-b0b6-ee65c32d712a" class="confluenceTable"><tbody><tr><th class="confluenceTh"><p><strong>Controller</strong></p></th><th class="confluenceTh"><p><strong>Description</strong></p></th></tr><tr><td class="confluenceTd"><p>SelphIDController</p></td><td class="confluenceTd"><p>Document recognition main controller</p></td></tr></tbody></table></div><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-5.Componentconfiguration">5. Component configuration</h2><p>Once initialized, a <em>SelphIDConfigurationData </em>object must be created and passed as a parameter to the SDKController during component launch to configure the current component.</p><p>The following section will show the fields part of this class and what each is used for.</p><h3 id="id-[1.5.X][EN]SelphIDComponent-5.1.ClassSelphIDConfigurationData">5.1. Class SelphIDConfigurationData</h3><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.0.debug">5.1.0. <em>debug</em></h4><p>Activation of the component's debugging mode.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.1.resourcesPath">5.1.1. <em>resourcesPath</em></h4><p>Specifies the name of the resources in <em><strong>zip</strong></em> format. Example: &quot;resources-selphid-2-0.zip&quot;.</p><p>This name will fetch the file from the <em>assets </em>path.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="289" loading="lazy" src="attachments/2605809665/2605809673.png?width=289" data-image-src="attachments/2605809665/2605809673.png" data-height="145" data-width="289" data-unresolved-comment-count="0" data-linked-resource-id="2605809673" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231009-122638.png" data-base-url="https://facephicorporative.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="2605809665" data-linked-resource-container-version="7" data-media-id="030d919e-c438-4b6d-87d5-322b4a5efdca" data-media-type="file"></span><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.2.wizardMode">5.1.2. <em>wizardMode</em></h4><p>Indicates whether the widget is configured to capture both parts (front and back) of the document one after the other. In this mode, the widget would only be launched once, and when it finishes capturing the front, it would continue with the back.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.3.showResultAfterCapture">5.1.3. <em>showResultAfterCapture</em></h4><p>Indicates whether or not to display a screen with the captured image of the document after the analysis process. This screen allows the user to repeat the capture process if the image obtained from the document is incorrect.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.4.showTutorial">5.1.4. <em>showTutorial</em></h4><p>Indicates whether the widget activates the tutorial screen. This view intuitively explains how the capture is performed.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.5.tutorialOnly">5.1.5. <em>tutorialOnly</em></h4><p>Indicates if the widget is to be launched only to display the tutorial.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.6.scanMode">5.1.6. <em>scanMode</em></h4><p>Indicates the OCR scanning mode for documents. Depending on the choice, several documents or a specific one will be scanned and searched. This mode can be of three types:</p><ul><li><p><strong>SelphIDScanMode.MODE_GENERIC:</strong> The generic mode that allows scanning any document independent of country or document type. The result of this mode is not as accurate as the following modes, but it allows the scanning of several standard documents.</p></li><li><p><strong>SelphIDScanMode.MODE_SEARCH:</strong> The search mode shall allow the use of a whitelist and blacklist, and shall search the documents matching these conditions. These conditions are specified in the variable &quot;specificData&quot;. This allows us to perform the search by narrowing the number of templates and making the search much more refined than in the generic case.</p></li><li><p><strong>SelphIDScanMode.MODE_SPECIFIC:</strong> Search for a specific document. These conditions are indicated in the &quot;specificData&quot; property shown below.</p></li></ul><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.7specificData">5.1.7 <em>specificData</em></h4><p>This property allows you to define which documents will be scanned during the process if you declare the scan mode (scanMode) to <strong>MODE_SEARCH</strong> or <strong>MODE_SPECIFIC</strong>.</p><p>An example configuration allowing the scan all the documents of Spanish nationality would be the following:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">val selphIDConfiguration = SelphIDConfigurationData(
    scanMode = SelphIDScanMode.MODE_SEARCH,
    specificData = &quot;ES|&lt;ALL&gt;&quot;,  // ISO Code of Spain (ES)
)</pre>
</div></div><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.8locale">5.1.8 <em>locale</em></h4><p>This is a string that allows you to change the locale and language of the widget. Examples of values they can have are as follows:</p><ul><li><p>““ for use the system language</p></li><li><p>“es” for Spanish.</p></li><li><p>“en” for English.</p></li><li><p>“fr” for french.</p></li></ul><p>Ultimately, it will depend on the name that appears in the file <code>strings.xml</code> of the language you want to choose (<code>strings-es.xml</code>, <code>strings-en.xml</code>, <code>strings-fr.xml</code>).</p><p>In the resources zip, located inside the strings folder, you can add the files  <code>strings-xx.xml</code> corresponding to each location you need to incorporate in the widget.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.9fullscreen">5.1.9 <em>fullscreen</em></h4><p>Indicates whether the view will be prioritised for full-screen display if the system allows it.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.9tokenImageQuality">5.1.9 <em>tokenImageQuality</em></h4><p>Indicates the amount of quality to be received in the tokenised images. A value between 0 and 1.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.10.documentType">5.1.10. <em>documentType</em></h4><p>The permitted values are as follows:</p><ul><li><p><strong>SelphIDDocumentType.ID_CARD</strong>: The widget is configured to capture identity documents.</p></li><li><p><strong>SelphIDDocumentType.PASSPORT</strong>: The widget is configured to capture passports.</p></li><li><p><strong>SelphIDDocumentType.DRIVERS_LICENSE</strong>: The widget is configured to capture driving licences.</p></li><li><p><strong>SelphIDDocumentType.FOREIGN_CARD</strong>: The widget is configured to capture foreign documents.</p></li><li><p><strong>SelphIDDocumentType.CREDIT_CARD</strong>: The widget is configured to capture credit cards.</p></li><li><p><strong>SelphIDDocumentType.CUSTOM</strong>: The widget is configured to capture other types of documents that do not fall into the above categories.</p></li></ul><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.11documentSide">5.1.11 <em>documentSide</em></h4><p>The permitted values are as follows:</p><ul><li><p><strong>SelphIDDocumentSide.FRONT</strong>: The widget is configured to capture the front side of the document</p></li><li><p><strong>SelphIDDocumentSide.BACK</strong>: The widget is configured to capture the back side of the document.</p></li></ul><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.12timeout">5.1.12 <em>timeout</em></h4><p>It is an enum that defines the timeout of capturing one side of the document. It has three possible values:</p><ul><li><p>SelphIDTimeout.SHORT: 15 seconds.</p></li><li><p>SelphIDTimeout.MEDIUM: 20 seconds.</p></li><li><p>SelphIDTimeout.LONG: 25 seconds.</p></li></ul><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.13videoFilename">5.1.13 <em>videoFilename</em></h4><p>Sets the absolute path to the filename where a video of the capture process will be recorded. The application is responsible for requesting the necessary permissions from the phone if that path requires additional permissions. The widget, by default, will not perform any recording process unless a file path is specified using this method.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.14DocumentModels">5.1.14 <em>DocumentModels</em></h4><p>This property allows a string in XML format to configure the modelling of the documents that the widget will try to capture. The definition of this modelling is contained, by default, in a .xml of models that can be found in the .zip of resources. This property allows an application to hot-update the modelling of the documents.</p><p>Note: This property does not alter the content of the resource file.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.15generateRawImages">5.1.15 <em>generateRawImages</em></h4><p>This property configures the widget to return the entire image from the camera used to capture the document. These images are returned in the rawFrontDocument and rawBackDocument properties of the resulting object, respectively.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.16tokenPreviousCaptureData">5.1.16 tokenPreviousCaptureData</h4><p>When the document capture is done in 2 calls, this property allows the pass a dictionary with the information from the previous capture. This way the widget can combine the results of both readings in an intelligent way and thus return the combined information from both captures. It also allows the widget to calculate a degree of similarity of the data from both sides.</p><p>If both sides of the document are captured in a single call, this is unnecessary as the widget does this process internally.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.17translationsContent">5.1.17 translationsContent</h4><p>This advanced property allows, through a string in XML format, to configure the current translation of the component literals.</p><p><strong>Note</strong>: This property does not alter the content of the resource file.</p><p>    </p><h4 id="id-[1.5.X][EN]SelphIDComponent-5.1.18viewsContent">5.1.18 viewsContent</h4><p>This advanced property allows, through a string in XML format, to configure the widget views.</p><p><strong>Note</strong>: This property does not alter the content of the resource file.</p><p>    </p><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-6.Componentuse">6. Component use</h2><p>Once the component has been started and a new operation has been created (<strong>section 3</strong>), the SDK components can be launched. There are two ways to launch the component:</p><ul><li><p><strong>[WITH TRACKING]</strong> This call allows to launch the functionality of the component, but internal events will be tracked to the <em>tracking </em>server:</p></li></ul><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SDKController.launch(
    SelphIDController(SelphIDConfiguration(...)) {
        when (it) {
            is SdkResult.Error -&gt; Napier.d(&quot;SelphID: KO - ${it.error.javaClass.simpleName}&quot;)
            is SdkResult.Success -&gt; it.data
        }
    }
)</pre>
</div></div><ul><li><p><strong>[WITHOUT TRACKING] </strong>This call allows to launch the functionality of the component, but <strong>no event will be tracked</strong> to the <em>tracking </em>server:</p></li></ul><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">SDKController.launchMethod(
    SelphIDController(SelphIDConfiguration(...)) {
        when (it) {
            is SdkResult.Error -&gt; Napier.d(&quot;SelphID: KO - ${it.error.javaClass.simpleName}&quot;)
            is SdkResult.Success -&gt; it.data
        }
    }
)</pre>
</div></div><p> </p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The <strong>launch </strong>method must be used by <strong>default</strong>. This method allows <em><strong>tracking </strong></em>if your component is enabled and will not be used when it is disabled (or the component is not installed).</p><p>On the other hand, the <strong>launchMethod </strong>method covers a particular case in which the integrator has tracking installed and activated but, in a certain flow within the application does not want to track information. In this case, this method is used to prevent this information from being sent to the platform.</p></div></div><hr/><h2 id="id-[1.5.X][EN]SelphIDComponent-7.Receiptoftheresult">7. Receipt of the result</h2><p>The controllers will return the required information in SdkResult format -more details in the Android Mobile SDK's <a href="https://facephicorporative.atlassian.net/wiki/spaces/DD/pages/2605678593#6.-Result-return" rel="nofollow">6. Result return</a> section-.</p><h3 id="id-[1.5.X][EN]SelphIDComponent-7.1.Receiptoferrors">7.1. Receipt of errors</h3><p>On the error side, we will have the SelphIdError class.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">    SelphIDError.ACTIVITY_RESULT_ERROR 
    SelphIDError.BAD_EXTRACTOR_CONFIGURATION_ERROR 
    SelphIDError.CAMERA_PERMISSION_DENIED 
    SelphIDError.CANCEL_BY_USER 
    SelphIDError.CONTROL_NOT_INITIALIZATED_ERROR 
    SelphIDError.EXTRACTION_LICENSE_ERROR 
    SelphIDError.HARDWARE_ERROR
    is SelphIDError.INITIALIZATION_ERROR -&gt; it.error // More info
    SelphIDError.NO_ERROR
    SelphIDError.RESOURCES_NOT_FOUND
    SelphIDError.SETTINGS_PERMISSION_ERROR 
    is SelphIDError.TIMEOUT 
    SelphIDError.UNEXPECTED_CAPTURE_ERROR 
    SelphIDError.UNKNOWN_ERROR </pre>
</div></div><h3 id="id-[1.5.X][EN]SelphIDComponent-7.2.Receiptofcorrectexecution-data">7.2. Receipt of correct execution - <em>data</em></h3><p>In the data part, we have the SelphIdResult class.</p><div class="confluence-information-macro confluence-information-macro-information"><span class="aui-icon aui-icon-small aui-iconfont-info confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p>The result returns the images in <strong>Bitmap</strong> format. It is possible to convert the images to <strong>Base64</strong> as follows:</p><p><code>Base64.encodeToString(this.toByteArray(), Base64.NO_WRAP)</code></p></div></div><p>The data field is variable and will depend on which component has returned the result. In the case of this component, the fields returned are the following:</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.1frontDocument/tokenFrontDocument:">7.2.1 <em>frontDocument / tokenFrontDocument:</em></h4><p>The front image of the processed document, cleaned and trimmed along the edges and its corresponding token.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.2backDocument/tokenBackDocument">7.2.2 <em>backDocument / tokenBackDocument</em></h4><p>The back image of the processed document, cleaned and trimmed around the edges and its associated token.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.3faceImage/tokenFaceImage">7.2.3 <em>faceImage / tokenFaceImage</em></h4><p>The image of the face found in the document, if any, and its associated token.</p><p>Valid for the FACIAL MATCHING process.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.4documentCaptured">7.2.4 <em>documentCaptured</em></h4><p>This property indicates the document model captured when a search is performed in SMSearch mode. In this way, the application can know which model has been detected among all the allowed ones.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.5matchingSidesScore">7.2.5 <em>matchingSidesScore</em></h4><p>This property returns a calculation of the similarity of the data read between the front and the back of the document. The calculation is performed by checking the similarity between the common fields read on both sides. The result of the calculation will be a value between 0.0 and 1.0 if there are common fields in the document. The higher the value, the more similar the data compared. If the calculation returns -1.0, then the document contains no common fields or there is no information yet from both sides.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.6PropiedadcaptureProgress">7.2.6 <em>Propiedad captureProgress</em></h4><p>This property returns the state the capture process was in when the widget ended. Here are the possible values:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">Front_Detection_None = 0
Front_Detection_Uncertain = 1
Front_Detection_Completed = 2
Front_Document_Analyzed = 3
Back_Detection_None = 4
Back_Detection_Uncertain = 5
Back_Detection_Completed = 6
Back_Document_Analyzed = 7</pre>
</div></div><ul><li><p><strong>0</strong>: When reading the Front, the widget ended up not being able to detect anything. Generally when no document is put in.</p></li><li><p><strong>1</strong>: In the Front reading, the widget ended up having partially detected a document. In this case, some of the expected elements have been detected, but not all the necessary ones.</p></li><li><p><strong>2</strong>: In the Front reading, the widget ended up having completed the detection of all the elements of the document. If the widget ends up in this state, it is because the OCR analysis could not be completed successfully.</p></li><li><p><strong>3</strong>: On Front reading, the widget ended up having analysed and extracted all OCR from the document. This is the state in which a successful Front-end reading of a document would end.</p></li></ul><p>Statuses 4 to 7 are exactly the same but refer to the result of the process when the back is analysed.</p><h4 id="id-[1.5.X][EN]SelphIDComponent-7.2.7ocrResults">7.2.7 <em>ocrResults</em></h4><p>This dictionary contains all the data detected in the document. The keys of each field are encoded in such a way that the key itself contains information on where the value has been obtained from. Thus, for example, the key Front/MRZ/DocumentNumber indicates the value of the DocumentNumber that has been read in the Front of the document and in the MRZ region. These keys depend on the captured document and will therefore differ between different countries and document    models. The dictionary also contains keys with more generic names and which do not carry location information. These keys contain the most complete data of all those read for that field.Estas claves son los siguientes:</p><ul><li><p>FirstName: The value associated with this key contains the user's first name.</p></li><li><p>LastName: The value associated with this key contains the user's surname.</p></li><li><p>DateOfBirth: The value associated with this key contains the date of birth detected in the document.</p></li><li><p>Gender: The value associated with this key contains the gender of the user detected in the document.</p></li><li><p>Nationality: The value associated with this key contains the nationality of the user detected in the document.</p></li><li><p>DocumentNumber: The value associated with this key contains the document number.</p></li><li><p>DateOfExpiry: The value associated with this key contains the expiry date of the document.</p></li><li><p>Issuer: The value associated with this key contains the publisher of the document.</p></li><li><p>DateofIssue: The value associated with this key contains the date of issue of the document.</p></li><li><p>PlaceOfBirth: The value associated with this key contains the user's place of birth.</p></li><li><p>Address: The value associated to this key contains the address detected in the document.</p></li></ul><p>Additionally, keys of the results object itself are added to make it easier to search:</p><ul><li><p>DocumentCaptured: Value of the document model that has been captured according to the .xml model. It corresponds to the documentCaptured property.</p></li><li><p>MatchingSidesScore: Value that indicates the correspondence between the read sides of the document. It corresponds to the matchingSidesScore property.</p></li></ul><hr/>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/2605809665/2605809673.png">image-20231009-122638.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on ene 16, 2024 08:39</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
