<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-ios docs-version-2.3.X docs-doc-page docs-doc-id-Video_Recording_Component" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Video Recording Component | SDK Mobile Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://facephi.github.io/sdk-mobile-documentation/es/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://facephi.github.io/sdk-mobile-documentation/es/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://facephi.github.io/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="2.3.X"><meta data-rh="true" name="docusaurus_tag" content="docs-ios-2.3.X"><meta data-rh="true" name="docsearch:version" content="2.3.X"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-ios-2.3.X"><meta data-rh="true" property="og:title" content="Video Recording Component | SDK Mobile Documentation"><meta data-rh="true" name="description" content="0. Requisitos base de SDK Mobile"><meta data-rh="true" property="og:description" content="0. Requisitos base de SDK Mobile"><link data-rh="true" rel="icon" href="/sdk-mobile-documentation/es/img/icon.png"><link data-rh="true" rel="canonical" href="https://facephi.github.io/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/ios/Video_Recording_Component" hreflang="en"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component" hreflang="es"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/ios/Video_Recording_Component" hreflang="x-default"><link rel="stylesheet" href="/sdk-mobile-documentation/es/assets/css/styles.28aebaee.css">
<script src="/sdk-mobile-documentation/es/assets/js/runtime~main.98a4d0ed.js" defer="defer"></script>
<script src="/sdk-mobile-documentation/es/assets/js/main.6c7414b7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sdk-mobile-documentation/es/"><div class="navbar__logo"><img src="/sdk-mobile-documentation/es/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sdk-mobile-documentation/es/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SDK Mobile Documentation</b></a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">Android</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">iOS</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">Flutter</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">Cordova</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">React Native</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">Capacitor</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/resources/Selphi_resources">Resources</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-android" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">2.3.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/next/Mobile_SDK">SNAPSHOT 🚧</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">2.3.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.2.X/Mobile_SDK">2.2.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.1.X/Mobile_SDK">2.1.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.0.X/Mobile_SDK">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.6/Mobile_SDK">1.5.6</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.5/Mobile_SDK">1.5.5</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.4/Mobile_SDK">1.5.4</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.3/Mobile_SDK">1.5.3</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.2/Mobile_SDK">1.5.2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-ios" href="/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component">2.3.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/next/Video_Recording_Component">SNAPSHOT 🚧</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component">2.3.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.2.X/Video_Recording_Component">2.2.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.0.X/Video_Recording_Component">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/1.5.X/Video_Recording_Component">1.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-flutter" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/flutter/next/Mobile_SDK">SNAPSHOT 🚧</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-cordova" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/cordova/next/Mobile_SDK">SNAPSHOT 🚧</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-react" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/react/next/Mobile_SDK">SNAPSHOT 🚧</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-capacitor" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">2.0.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/capacitor/next/Mobile_SDK">SNAPSHOT 🚧</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">2.0.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/sdk-mobile-documentation/docs/ios/Video_Recording_Component" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs barra lateral" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">iOS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">Primeros Pasos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Phingers_Component">Phingers Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Tracking_Component">Tracking Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Selphi_Component">Selphi Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/SelphID_Component">SelphID Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Voice_Component">Voice Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/NFC_Component">NFC Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Video_Call_Component">Video Call Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Video_Id_Component">Video Id Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Video_Recording_Component">Video Recording Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Status_Component">Status Component</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/ios/Sample_applications_use">Aplicaciones de ejemplo</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/sdk-mobile-documentation/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">iOS</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Video Recording Component</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.3.X</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><header><h1>Video Recording Component</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="0-requisitos-base-de-sdk-mobile">0. Requisitos base de SDK Mobile<a href="#0-requisitos-base-de-sdk-mobile" class="hash-link" aria-label="Enlace directo al 0. Requisitos base de SDK Mobile" title="Enlace directo al 0. Requisitos base de SDK Mobile">​</a></h2>
<p><strong>SDK Mobile</strong> es un conjunto de librerías (<strong>Componentes</strong>) que ofrece
una serie de funcionalidades y servicios, permitiendo a su vez su
integración en una aplicación Mobile de forma sencilla y totalmente
escalable. Dependiendo del caso de uso que se requiera, se deberá
realizar la instalación de unos determinados componentes. Su alto nivel
de modularidad permite que, en un futuro, se puedan añadir otros
componentes nuevos sin afectar en absoluto a los ya integrados en el
proyecto.</p>
<p>Para más información sobre la configuración base, vaya a la sección de
<a href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK#11-requisitos-m%C3%ADnimos">Primeros Pasos</a>.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-introducción">1. Introducción<a href="#1-introducción" class="hash-link" aria-label="Enlace directo al 1. Introducción" title="Enlace directo al 1. Introducción">​</a></h2>
<p>El <em>Componente</em> tratado en el documento actual recibe el nombre de
<strong><em>VideoRecording Component</em></strong>. Éste se encarga de capturar la pantalla
del dispositivo en segundo plano. Está orientado principalmente para la
grabación del proceso de onboarding.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-minimum-requirements">1.1 Minimum requirements<a href="#11-minimum-requirements" class="hash-link" aria-label="Enlace directo al 1.1 Minimum requirements" title="Enlace directo al 1.1 Minimum requirements">​</a></h2>
<p>The minimum iOS SDK version required is as follows:</p>
<p>Minimum iOS version: <strong>13</strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-integración-del-componente">2. Integración del componente<a href="#2-integración-del-componente" class="hash-link" aria-label="Enlace directo al 2. Integración del componente" title="Enlace directo al 2. Integración del componente">​</a></h2>
<div class="warning"><p><span class="warning">⚠️</span>
Antes de integrar este componente se recomienda leer la documentación de <a href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK#2-integraci%C3%B3n-inicial">Integración Inicial</a> y seguir las instrucciones indicadas en dicho documento.</p></div>
<p>En esta sección se explicará paso a paso cómo integrar el componente
actual en un proyecto ya existente.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-creando-la-extensión">2.1 Creando la extensión<a href="#21-creando-la-extensión" class="hash-link" aria-label="Enlace directo al 2.1 Creando la extensión" title="Enlace directo al 2.1 Creando la extensión">​</a></h3>
<p>Para el ejemplo documentado se ha utilizado una app con SwiftUI pero el componente y la documentación son válidos independientemente de que se use UIKit o SwiftUI.</p>
<p>En nuestro proyecto añadimos un nuevo target de tipo <strong><em>Broadcast Upload Extension:</em></strong></p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-001-e2d7a316b1aaefbe41102de4a2c6ba0a.png" width="1648" height="1392" class="img_ev3q"></p>
<p>Configuramos el nombre de la extensión, en este ejemplo será VideoRecording:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-002-1e32a36560668a16c1f13b5133ed52a1.png" width="1456" height="1040" class="img_ev3q"></p>
<p>Si aparece el siguiente modal, pulsamos en activate:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-003-50b0a3656841b43e169675d51c41b3e7.png" width="556" height="738" class="img_ev3q"></p>
<p>Esto genera la siguiente estructura:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-004-b0670f978445e45d85718b624c5ad29f.png" width="1988" height="592" class="img_ev3q"></p>
<p>Donde SampleHandler es la clase principal de la extensión.</p>
<p><strong>NOTA: Es importante tener en cuenta que el número de la version (MARKETING_VERSION) y el número de versión del proyecto debe ser siempre el mismo en ambos targets:</strong></p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-005-9b6c1727c54bad4af74e2738c0a548f2.png" width="2824" height="420" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-creando-el-app-group-compartido">2.2 Creando el App Group compartido<a href="#22-creando-el-app-group-compartido" class="hash-link" aria-label="Enlace directo al 2.2 Creando el App Group compartido" title="Enlace directo al 2.2 Creando el App Group compartido">​</a></h3>
<p>Si no lo tenemos ya en nuestra app, podemos crear una nueva Capability de tipo App Group.</p>
<p>Esto servirá para crear el contenedor compartido entre nuestra extensión y el target de la aplicación.</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-006-561a9dd21dbd96a080937d1a105bf362.png" width="754" height="460" class="img_ev3q"></p>
<p>Asignamos un nombre al nuevo App Group después de hacer click sobre el icono +:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-007-237a65d9cd46cdcb915e22e9ea193021.png" width="876" height="552" class="img_ev3q"></p>
<p>Seleccionamos el mismo identificador en nuestra extensión. De este modo ambos tendrán chequeado el App Group que acabamos de crear:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-008-3e67e7e122a24be3226632d390a61842.png" width="776" height="214" class="img_ev3q"></p>
<p>XCode generará o actualizará automáticamente los archivos de tipo entitlement implicados para añadir la capability a cada target:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-009-03f21d5dc6d9066b91050adf7fabe7df.png" width="2830" height="452" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-dependencias-requeridas-para-la-integración">2.3 Dependencias requeridas para la integración<a href="#23-dependencias-requeridas-para-la-integración" class="hash-link" aria-label="Enlace directo al 2.3 Dependencias requeridas para la integración" title="Enlace directo al 2.3 Dependencias requeridas para la integración">​</a></h3>
<blockquote><p></p><p>Para evitar conflictos y problemas de compatibilidad, en caso de querer instalar el componente en un proyecto que contenga una versión antigua de las librerías de Facephi (Widgets), éstos deberán eliminarse por completo antes de la instalación de los componentes de la SDKMobile.</p><p></p></blockquote>
<p>Actualmente las librerías de FacePhi se distribuyen de forma remota a través de diferentes gestores de dependencias.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="231-cocoapods">2.3.1 Cocoapods<a href="#231-cocoapods" class="hash-link" aria-label="Enlace directo al 2.3.1 Cocoapods" title="Enlace directo al 2.3.1 Cocoapods">​</a></h3>
<p>Las dependencias <strong>obligatorias</strong> que deberán haberse instalado previamente (añadiéndolas en el fichero Podfile del proyecto) son:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;FPHISDKMainComponent&#x27;, &#x27;~&gt; 2.3.0&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Se recomienda utilizar también el componente de VideoRecording con el de tracking (<code>FPHISDKTrackingComponent</code>).</p>
</li>
<li>
<p>Para instalar el componente actual deberá incluirse la siguiente entrada en el Podfile de la aplicación:</p>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pod &#x27;FPHISDKVideoRecordingComponent&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p>Se debe declarar esta dependencia dentro del target de la app y de la extensión (esto último se explicará a continuación)</p>
</li>
<li>
<p>Un ejemplo de cómo se vería el Podfile:</p>
</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">target &#x27;demoApp&#x27; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pod &#x27;FPHISDKMainComponent&#x27;, &#x27;X.Y.Z&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pod &#x27;FPHISDKVideoRecordingComponent&#x27;, &#x27;A.B.C&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pod &#x27;FPHISDKTrackingComponent&#x27;, &#x27;D.E.F&#x27; ### Optional, recommended</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">target &#x27;VideoRecording&#x27; do ### Our extension target</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  use_frameworks! ### We want to use frameworks instead of Static Libs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pod &#x27;FPHISDKVideoRecordingComponent&#x27;, &#x27;A.B.C&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>NOTA: Hay que tener cuidado de poner el target de la extensión fuera del target de la aplicación. De no hacerlo así, los pods de la aplicación se compilarían también en la extensión, dando como resultado problemas colaterales.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="232-spm">2.3.2 SPM<a href="#232-spm" class="hash-link" aria-label="Enlace directo al 2.3.2 SPM" title="Enlace directo al 2.3.2 SPM">​</a></h4>
<p>Añadimos nuestra dependencia al proyecto y la asignamos al target de VideoRecording:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-010-305c0dc6e8ba588fae482db4b1ff817d.png" width="2170" height="1218" class="img_ev3q"></p>
<p>Debemos luego añadirlo también al target de la app en General → Framework, Libraries and Embedded Content:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-011-4dbde20e070d491c2ddc17a7cb98fa89.png" width="1260" height="1012" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-implementar-la-extensión">2.4 Implementar la extensión<a href="#24-implementar-la-extensión" class="hash-link" aria-label="Enlace directo al 2.4 Implementar la extensión" title="Enlace directo al 2.4 Implementar la extensión">​</a></h3>
<p>En este punto se debe desarrollar la funcionalidad en nuestro recién creado SampleHandler.swift. Para ello, copiamos/sustituimos el siguiente código:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">class SampleHandler: RPBroadcastSampleHandler {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var bufferCopy: CMSampleBuffer?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var lastSendTs = Int64(Date().timeIntervalSince1970 * 1000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var timer: Timer?</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Shared info between app and extension</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private let kAppGroupName = &quot;group.com.facephi.sdk.demo&quot; // SET YOUR APP_GROUP_NAME, you can get it from your entitlements&#x27; file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastStarted(withSetupInfo setupInfo: [String: NSObject]?) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Load shared info from app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let sharedContainer = UserDefaults(suiteName: kAppGroupName)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let uid = sharedContainer.string(forKey: &quot;UID&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let token = sharedContainer.string(forKey: &quot;TOKEN&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let channel = sharedContainer.string(forKey: &quot;CHANNEL&quot;)!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Passing data to app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sharedContainer.setValue(true, forKey: &quot;BROADCASTSTARTED&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sharedContainer.synchronize()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;uid: \(uid)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;token: \(token)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        print(&quot;channelName: \(channel)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // In-App Screen Capture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.startBroadcast(uid: uid, token: token, channel: channel)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.sharedAgoraEngine.delegate = self</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DispatchQueue.main.async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self.timer = Timer.scheduledTimer(withTimeInterval: 0.1, repeats: true) { [weak self] (_: Timer) in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                guard let weakSelf = self else { return }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                let elapse = Int64(Date().timeIntervalSince1970 * 1000) - weakSelf.lastSendTs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                print(&quot;elapse: \(elapse)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // if frame stopped sending for too long time, resend the last frame</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // to avoid stream being frozen when viewed from remote</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if elapse &gt; 300 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if let buffer = weakSelf.bufferCopy {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        weakSelf.processSampleBuffer(buffer, with: .video)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastPaused() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // User has requested to pause the broadcast. Samples will stop being delivered.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastResumed() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // User has requested to resume the broadcast. Samples delivery will resume.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func broadcastFinished() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer?.invalidate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer = nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        AgoraUploader.stopBroadcast()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override func processSampleBuffer(_ sampleBuffer: CMSampleBuffer, with sampleBufferType: RPSampleBufferType) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        DispatchQueue.main.async { [weak self] in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            switch sampleBufferType {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            case .video:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if let weakSelf = self {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    weakSelf.bufferCopy = sampleBuffer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    weakSelf.lastSendTs = Int64(Date().timeIntervalSince1970 * 1000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                AgoraUploader.sendVideoBuffer(sampleBuffer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            @unknown default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>NOTA: Hay que asegurarse de introducir el App Group Name correcto en la linea 6. En nuestro ejemplo era group.com.facephi.demosdk-videoRecording.</strong></p>
<p>Opcionalmente puedes escuchar los distintos eventos que ocurren cuando el usuario interacciona con la funcionalidad de grabación si haces que la clase SampleHandler extienda <code>AgoraRtcEngineDelegate</code>:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import AgoraRtcKit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extension SampleHandler: AgoraRtcEngineDelegate {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when warning occured for agora sdk, warning can usually be ignored, still it&#x27;s nice to check out</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// what is happening</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Warning code description can be found at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// en: https://docs.agora.io/en/Voice/API%20Reference/oc/Constants/AgoraWarningCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// cn: https://docs.agora.io/cn/Voice/API%20Reference/oc/Constants/AgoraWarningCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param warningCode warning code of the problem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOccurWarning warningCode: AgoraWarningCode) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when error occured for agora sdk, you are recommended to display the error descriptions on demand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// to let user know something wrong is happening</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Error code description can be found at:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// en: https://docs.agora.io/en/Voice/API%20Reference/oc/Constants/AgoraErrorCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// cn: https://docs.agora.io/cn/Voice/API%20Reference/oc/Constants/AgoraErrorCode.html</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param errorCode error code of the problem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOccurError errorCode: AgoraErrorCode) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when the local user joins a specified channel.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param channel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of local user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param elapsed time elapse since current sdk instance join the channel in ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinChannel channel: String, withUid uid: UInt, elapsed: Int) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when a remote user is joinning the channel, note audience in live broadcast mode will NOT trigger this event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of remote joined user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param elapsed time elapse since current sdk instance join the channel in ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didJoinedOfUid uid: UInt, elapsed: Int) {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// callback when a remote user is leaving the channel, note audience in live broadcast mode will NOT trigger this event</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param uid uid of remote joined user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// @param reason reason why this user left, note this event may be triggered when the remote user</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// become an audience in live broadcasting profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    func rtcEngine(_ engine: AgoraRtcEngineKit, didOfflineOfUid uid: UInt, reason: AgoraUserOfflineReason) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Replace domain&#x27;s value with your Bundle Identifier</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let error = NSError(domain: &quot;com.facephi.demosdk-videoRecording&quot;, code: 0, userInfo: [NSLocalizedDescriptionKey: NSLocalizedString(&quot;Call ended&quot;, comment: &quot;&quot;)])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        finishBroadcastWithError(error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-iniciar-nueva-operación">3. Iniciar nueva operación<a href="#3-iniciar-nueva-operación" class="hash-link" aria-label="Enlace directo al 3. Iniciar nueva operación" title="Enlace directo al 3. Iniciar nueva operación">​</a></h2>
<p>Cuando se desea realizar una determinada operación, para generar la información asociada correctamente en la plataforma deberá ejecutarse previamente el comando <strong>newOperation</strong>.</p>
<blockquote><p></p><p>Este comando debe ejecutarse siempre. Para saber más acerca de cómo iniciar una nueva operación, se recomienda consultar la documentación de Core Component, en el que se detalla y explica en qué consiste este proceso.</p><p></p></blockquote>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-uso-de-componente">4. Uso de componente<a href="#4-uso-de-componente" class="hash-link" aria-label="Enlace directo al 4. Uso de componente" title="Enlace directo al 4. Uso de componente">​</a></h2>
<p>Una vez iniciado el componente y creada una nueva operación (apartado 3) se podrán lanzar los componentes del SDK. Hay dos formas de lanzar el componente:</p>
<ul>
<li><strong>[SIN TRACKING]</strong> Esta llamada permite lanzar la funcionalidad del componente con normalidad, pero <strong>no se trackeará</strong> ningún evento al servidor de tracking:</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let controller = VideoRecordingController(data: VideoRecordingConfigurationData(), appGroupName: &quot;group.com.facephi.demosdk-videoRecording&quot;, extensionName: &quot;VideoRecording&quot;, output: { _ in })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDKController.shared.launchMethod(controller: controller)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><strong>[CON TRACKING]</strong> Esta llamada permite lanzar la funcionalidad del componente con normalidad, pero sí se trackearán los eventos internos al servidor de tracking:</li>
</ul>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let controller = VideoRecordingController(data: VideoRecordingConfigurationData(), appGroupName: &quot;group.com.facephi.demosdk-videoRecording&quot;, extensionName: &quot;VideoRecording&quot;, output: { _ in })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SDKController.shared.launch(controller: controller)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote><p></p><p>El método <strong>launch</strong> debe usarse <strong>por defecto</strong>. Este método permite utilizar <strong>tracking</strong> en caso de estar su componente activado, y no lo usará cuando esté desactivado (o no se encuentre el componente instalado).</p><p>Por el contrario, el método <strong>launchMethod</strong> cubre un caso especial, en el cual el integrador tiene instalado y activado el tracking, pero en un flujo determinado dentro de la aplicación no desea trackear información. En ese caso se usa este método para evitar que se envíe esa información a la plataforma.</p><p></p></blockquote>
<p>En los datos de configuración (<em>VideoRecordingConfigurationData</em>) también se podrán modificar:</p>
<ul>
<li>
<p><strong>Datos opcionales que normalmente se incluyen dentro de la licencia</strong></p>
<ul>
<li><strong>url</strong>: Ruta al socket de video.</li>
<li><strong>apiKey</strong>: ApiKey necesaria para la conexión con el socket de video.</li>
<li><strong>tenantId</strong>: Identificador del tenant que hace referencia al cliente actual, necesario para la conexión con el servicio de video.</li>
<li><strong>extractionTimeout</strong>: Cuanto tiempo (milisegundos) se quedará el componente esperando al socket antes de generar un error de timeout.</li>
<li><strong>showDiagnostic</strong>: En caso de que ocurra algún error el error se mostrará por pantalla además de enviarlo con el output.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-personalización-del-componente">5. Personalización del componente<a href="#5-personalización-del-componente" class="hash-link" aria-label="Enlace directo al 5. Personalización del componente" title="Enlace directo al 5. Personalización del componente">​</a></h2>
<p>Ahora mismo no existen recursos que configurar en el componente.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-errores-y-problemas-frecuentes">6. Errores y problemas frecuentes<a href="#6-errores-y-problemas-frecuentes" class="hash-link" aria-label="Enlace directo al 6. Errores y problemas frecuentes" title="Enlace directo al 6. Errores y problemas frecuentes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="61-en-tiempo-de-compilación">6.1 En tiempo de compilación<a href="#61-en-tiempo-de-compilación" class="hash-link" aria-label="Enlace directo al 6.1 En tiempo de compilación" title="Enlace directo al 6.1 En tiempo de compilación">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="611-permisos-de-escritura---sandbox-rsyncsamba67364-deny1-file-write-create">6.1.1 Permisos de escritura - Sandbox: rsync.samba(67364) deny(1) file-write-create<a href="#611-permisos-de-escritura---sandbox-rsyncsamba67364-deny1-file-write-create" class="hash-link" aria-label="Enlace directo al 6.1.1 Permisos de escritura - Sandbox: rsync.samba(67364) deny(1) file-write-create" title="Enlace directo al 6.1.1 Permisos de escritura - Sandbox: rsync.samba(67364) deny(1) file-write-create">​</a></h4>
<p>Si aparece un error de compilación en referencia a permisos de escritura:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-012-754d49db4b70295687ba933874acda8f.png" width="1570" height="282" class="img_ev3q"></p>
<p>Revisar el estado en Build Settings del parámetro <strong>ENABLE_USER_SCRIPT_SANDBOXING</strong>, su valor debe ser <strong>NO</strong>.</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-013-ac369fe2aaeeb1149ac7a0cf63b425f6.png" width="1580" height="484" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="62-en-tiempo-de-ejecución">6.2 En tiempo de ejecución<a href="#62-en-tiempo-de-ejecución" class="hash-link" aria-label="Enlace directo al 6.2 En tiempo de ejecución" title="Enlace directo al 6.2 En tiempo de ejecución">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="621-starscream---exc_bad_access">6.2.1 Starscream - EXC_BAD_ACCESS<a href="#621-starscream---exc_bad_access" class="hash-link" aria-label="Enlace directo al 6.2.1 Starscream - EXC_BAD_ACCESS" title="Enlace directo al 6.2.1 Starscream - EXC_BAD_ACCESS">​</a></h4>
<p>Al lanzar el componente puede aparecer un error en la dependencia Starscream:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-014-2a25737a313f66bb30fbfaf0db333706.png" width="1510" height="660" class="img_ev3q"></p>
<p><strong><em>Solución</em></strong> - Subir la versión del Pod mínima de iOS11 a iOS12:</p>
<p><img decoding="async" loading="lazy" alt="Image" src="/sdk-mobile-documentation/es/assets/images/videoRecording-015-bb86fd0a9e0835fd15cfc2d56e50099a.png" width="1588" height="250" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="622-quicktime-player">6.2.2 QuickTime Player<a href="#622-quicktime-player" class="hash-link" aria-label="Enlace directo al 6.2.2 QuickTime Player" title="Enlace directo al 6.2.2 QuickTime Player">​</a></h4>
<p>Al lanzar el componente, si el iPhone está ya conectado y compartiendo la pantalla con una sesión de QuickTime Player, la videograbación no funcionará.</p>
<p><strong><em>Solución</em></strong> - Cerrar QuickTime Player, la aplicación y volver a iniciar el proceso.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="623-la-videograbación-no-comienza">6.2.3 La videograbación no comienza<a href="#623-la-videograbación-no-comienza" class="hash-link" aria-label="Enlace directo al 6.2.3 La videograbación no comienza" title="Enlace directo al 6.2.3 La videograbación no comienza">​</a></h4>
<p>Lanzando el componente, no podemos ver el modal nativo de videograbación o lo vemos pero al iniciar la grabación no comienza.</p>
<p>Posible Causa: La extensión creada en la aplicación tiene un &quot;Bundle Identifier&quot;. Si este identificador ha sido modificado, el dispositivo puede tener cacheado el valor antiguo.</p>
<p><strong><em>Posible Solución</em></strong> - Desinstalar la app, instalarla de nuevo. Reiniciar si es necesario.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/sdk-mobile-documentation/es/docs/ios/Video_Id_Component"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Video Id Component</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sdk-mobile-documentation/es/docs/ios/Status_Component"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Status Component</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#0-requisitos-base-de-sdk-mobile" class="table-of-contents__link toc-highlight">0. Requisitos base de SDK Mobile</a></li><li><a href="#1-introducción" class="table-of-contents__link toc-highlight">1. Introducción</a></li><li><a href="#11-minimum-requirements" class="table-of-contents__link toc-highlight">1.1 Minimum requirements</a></li><li><a href="#2-integración-del-componente" class="table-of-contents__link toc-highlight">2. Integración del componente</a><ul><li><a href="#21-creando-la-extensión" class="table-of-contents__link toc-highlight">2.1 Creando la extensión</a></li><li><a href="#22-creando-el-app-group-compartido" class="table-of-contents__link toc-highlight">2.2 Creando el App Group compartido</a></li><li><a href="#23-dependencias-requeridas-para-la-integración" class="table-of-contents__link toc-highlight">2.3 Dependencias requeridas para la integración</a></li><li><a href="#231-cocoapods" class="table-of-contents__link toc-highlight">2.3.1 Cocoapods</a></li><li><a href="#24-implementar-la-extensión" class="table-of-contents__link toc-highlight">2.4 Implementar la extensión</a></li></ul></li><li><a href="#3-iniciar-nueva-operación" class="table-of-contents__link toc-highlight">3. Iniciar nueva operación</a></li><li><a href="#4-uso-de-componente" class="table-of-contents__link toc-highlight">4. Uso de componente</a></li><li><a href="#5-personalización-del-componente" class="table-of-contents__link toc-highlight">5. Personalización del componente</a></li><li><a href="#6-errores-y-problemas-frecuentes" class="table-of-contents__link toc-highlight">6. Errores y problemas frecuentes</a><ul><li><a href="#61-en-tiempo-de-compilación" class="table-of-contents__link toc-highlight">6.1 En tiempo de compilación</a></li><li><a href="#62-en-tiempo-de-ejecución" class="table-of-contents__link toc-highlight">6.2 En tiempo de ejecución</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SDK Mobile, Facephi.</div></div></div></footer></div>
</body>
</html>