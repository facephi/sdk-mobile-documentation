<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-resources docs-version-current docs-doc-page docs-doc-id-Selphi_widget_android" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Selphi Widget Android | SDK Mobile Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://facephi.github.io/sdk-mobile-documentation/es/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://facephi.github.io/sdk-mobile-documentation/es/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://facephi.github.io/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-resources-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-resources-current"><meta data-rh="true" property="og:title" content="Selphi Widget Android | SDK Mobile Documentation"><meta data-rh="true" name="description" content="1. Introducci√≥n"><meta data-rh="true" property="og:description" content="1. Introducci√≥n"><link data-rh="true" rel="icon" href="/sdk-mobile-documentation/es/img/icon.png"><link data-rh="true" rel="canonical" href="https://facephi.github.io/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/resources/Selphi_widget_android" hreflang="en"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android" hreflang="es"><link data-rh="true" rel="alternate" href="https://facephi.github.io/sdk-mobile-documentation/docs/resources/Selphi_widget_android" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Selphi Widget Android","item":"https://facephi.github.io/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android"}]}</script><link rel="stylesheet" href="/sdk-mobile-documentation/es/assets/css/styles.63f7bfbe.css">
<script src="/sdk-mobile-documentation/es/assets/js/runtime~main.27bf75a9.js" defer="defer"></script>
<script src="/sdk-mobile-documentation/es/assets/js/main.92fd4ee1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sdk-mobile-documentation/es/"><div class="navbar__logo"><img src="/sdk-mobile-documentation/es/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/sdk-mobile-documentation/es/img/icon.png" alt="SDK Mobile Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SDK Mobile Documentation</b></a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">Android</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">iOS</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">Flutter</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">Cordova</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">React Native</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">Capacitor</a><a class="navbar__item navbar__link" href="/sdk-mobile-documentation/es/docs/resources/Selphi_resources">Widgets Legacy</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-android" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">2.6.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/Mobile_SDK">2.6.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.5.X/Mobile_SDK">2.5.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.4.X/Mobile_SDK">2.4.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.3.X/Mobile_SDK">2.3.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.2.X/Mobile_SDK">2.2.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.1.X/Mobile_SDK">2.1.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/2.0.X/Mobile_SDK">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.6/Mobile_SDK">1.5.6</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.5/Mobile_SDK">1.5.5</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.4/Mobile_SDK">1.5.4</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.3/Mobile_SDK">1.5.3</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/android/1.5.2/Mobile_SDK">1.5.2</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-ios" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">2.5.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/Mobile_SDK">2.5.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.4.X/Mobile_SDK">2.4.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.3.X/Mobile_SDK">2.3.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.2.X/Mobile_SDK">2.2.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/2.0.X/Mobile_SDK">2.0.X</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/ios/1.5.X/Mobile_SDK">1.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-flutter" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">2.5.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/flutter/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/flutter/Mobile_SDK">2.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-cordova" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">2.5.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/cordova/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/cordova/Mobile_SDK">2.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-react" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">2.5.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/react/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/react/Mobile_SDK">2.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" customcss="menu-capacitor" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">2.5.X</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/capacitor/next/Mobile_SDK">SNAPSHOT üöß</a></li><li><a class="dropdown__link" href="/sdk-mobile-documentation/es/docs/capacitor/Mobile_SDK">2.5.X</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Espa√±ol</a><ul class="dropdown__menu"><li><a href="/sdk-mobile-documentation/docs/resources/Selphi_widget_android" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Espa√±ol</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Cambiar entre modo oscuro y claro (actualmente system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs barra lateral" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/sdk-mobile-documentation/es/docs/resources/Selphi_resources"><span title="Widgets Legacy" class="categoryLinkLabel_W154">Widgets Legacy</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/Selphi_resources"><span title="Recursos de Selphi" class="linkLabel_WmDU">Recursos de Selphi</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/Selphi_widget_android"><span title="Selphi Widget Android" class="linkLabel_WmDU">Selphi Widget Android</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/Selphi_widget_ios"><span title="Selphi Widget iOS" class="linkLabel_WmDU">Selphi Widget iOS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/SelphID_resources"><span title="Recursos de SelphID" class="linkLabel_WmDU">Recursos de SelphID</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/SelphID_widget_android"><span title="SelphID Widget Android" class="linkLabel_WmDU">SelphID Widget Android</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk-mobile-documentation/es/docs/resources/SelphID_widget_ios"><span title="SelphID Widget iOS" class="linkLabel_WmDU">SelphID Widget iOS</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="P√°gina de Inicio" class="breadcrumbs__link" href="/sdk-mobile-documentation/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Widgets Legacy</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Selphi Widget Android</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta p√°gina</button></div><div class="theme-doc-markdown markdown"><header><h1>Selphi Widget Android</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-introducci√≥n">1. Introducci√≥n<a href="#1-introducci√≥n" class="hash-link" aria-label="Enlace directo al 1. Introducci√≥n" title="Enlace directo al 1. Introducci√≥n" translate="no">‚Äã</a></h2>
<p>En este manual se documenta la configuraci√≥n y funcionamiento de FacePhi Selphi Android Widget en aplicaciones desarrolladas para el sistema operativo Android, as√≠ como su integraci√≥n en proyectos para este sistema operativo.
Se describen:</p>
<ul>
<li class="">Propiedades, m√©todos y comunicaci√≥n que integran este widget.</li>
<li class="">Creaci√≥n de un proyecto Android que integre el widget para cualquier aplicaci√≥n Android.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="11-versi√≥n-del-widget">1.1. Versi√≥n del widget<a href="#11-versi√≥n-del-widget" class="hash-link" aria-label="Enlace directo al 1.1. Versi√≥n del widget" title="Enlace directo al 1.1. Versi√≥n del widget" translate="no">‚Äã</a></h3>
<p>Recupera la version con el metodo est√°tico &#x27;getWidgetVersion()&#x27;</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public static String getWidgetVersion()</span><br></span></code></pre></div></div>
<p>Devuelve la versi√≥n actual en formato string. Este metodo es est√°tico, no es necesario lanzar el widget
para realizar esta operaci√≥n.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="12-requerimientos-m√≠nimos">1.2. Requerimientos m√≠nimos<a href="#12-requerimientos-m√≠nimos" class="hash-link" aria-label="Enlace directo al 1.2. Requerimientos m√≠nimos" title="Enlace directo al 1.2. Requerimientos m√≠nimos" translate="no">‚Äã</a></h3>
<ul>
<li class="">Android API level: 15</li>
<li class="">RAM: 2 GB</li>
</ul>
<p>Si se usa la caracteristica de Detecci√≥n de Ataques de Inyecci√≥n (IAD) entonces:</p>
<ul>
<li class="">API level 24</li>
<li class="">RAM: 3 GB</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-api-interfaz-de-programaci√≥n-de-aplicaciones">2. API (Interfaz de programaci√≥n de aplicaciones)<a href="#2-api-interfaz-de-programaci√≥n-de-aplicaciones" class="hash-link" aria-label="Enlace directo al 2. API (Interfaz de programaci√≥n de aplicaciones)" title="Enlace directo al 2. API (Interfaz de programaci√≥n de aplicaciones)" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="21-propiedades">2.1. Propiedades<a href="#21-propiedades" class="hash-link" aria-label="Enlace directo al 2.1. Propiedades" title="Enlace directo al 2.1. Propiedades" translate="no">‚Äã</a></h3>
<p>El widget Android proporcionado es una clase de tipo <code>Activity</code> que permite iniciar una extracci√≥n de caracter√≠sticas faciales, as√≠ como configurar el mismo con valores adecuados para la extracci√≥n.</p>
<p>El paso de argumentos entre la clase principal del proyecto y el widget se sucede mediante clases Parcelables. La clase que se usa para dicha comunicaci√≥n es la clase <code>WidgetConfiguration</code>.</p>
<p>Cuando se crea un nuevo widget en una aplicaci√≥n Android, se pueden establecer ciertas propiedades del mismo que indican el modo de funcionamiento del mismo.
Esa configuraci√≥n del widget se maneja mediante la clase <code>WidgetConfiguration</code>. Esta clase contiene varios m√©todos que le permiten establecer las siguientes propiedades:</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="211-resourcespath">2.1.1. ResourcesPath<a href="#211-resourcespath" class="hash-link" aria-label="Enlace directo al 2.1.1. ResourcesPath" title="Enlace directo al 2.1.1. ResourcesPath" translate="no">‚Äã</a></h4>
<p>Establece la ruta del archivo de recursos que utilizar√° el widget para su configuraci√≥n gr√°fica. La ruta de este archivo debe especificarse relativa a la carpeta ‚Äòassets‚Äô de la aplicaci√≥n principal.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="22-m√©todos">2.2. M√©todos<a href="#22-m√©todos" class="hash-link" aria-label="Enlace directo al 2.2. M√©todos" title="Enlace directo al 2.2. M√©todos" translate="no">‚Äã</a></h3>
<p>Dispone de los siguientes m√©todos para configurar el widget, en la clase <code>WidgetConfiguration</code>:</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="220-setlicense">2.2.0. setLicense<a href="#220-setlicense" class="hash-link" aria-label="Enlace directo al 2.2.0. setLicense" title="Enlace directo al 2.2.0. setLicense" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setLicense(String license)</span><br></span></code></pre></div></div>
<p>Establece el contenido de licencia que deber√° utilizarse para acceder a algunas caracteristicas del widget.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="221-setlivenessmode">2.2.1. setLivenessMode<a href="#221-setlivenessmode" class="hash-link" aria-label="Enlace directo al 2.2.1. setLivenessMode" title="Enlace directo al 2.2.1. setLivenessMode" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setLivenessMode(WidgetLivenessMode liveness)</span><br></span></code></pre></div></div>
<p>Establece el modo liveness del widget.
Los valores permitidos son:</p>
<ul>
<li class=""><strong>LIVENESS_NONE</strong>: Indica que no debe activarse el modo detecci√≥n de foto en los procesos de autenticaci√≥n.</li>
<li class=""><strong>LIVENESS_MOVE</strong>: Indica que debe activarse el modo de deteccion de movimiento activo.</li>
<li class=""><strong>LIVENESS_PASSIVE</strong>: Indica que la prueba de vida pasiva se realiza en el servidor, enviando para tal fin la &quot;BestImage&quot; o el &quot;TemplateRaw&quot; correspondiente.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="222-setstabilizationmode">2.2.2. setStabilizationMode<a href="#222-setstabilizationmode" class="hash-link" aria-label="Enlace directo al 2.2.2. setStabilizationMode" title="Enlace directo al 2.2.2. setStabilizationMode" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setStabilizationMode(boolean sm)</span><br></span></code></pre></div></div>
<p>Establece un modo de estabilizaci√≥n previo a cualquier proceso de autenticaci√≥n en el widget. Con este modo se obliga al widget a no empezar ning√∫n proceso si el usuario no se encuentra con la cabeza mirando al frente y sin moverla.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="223-setqrflag">2.2.3. setQRFlag<a href="#223-setqrflag" class="hash-link" aria-label="Enlace directo al 2.2.3. setQRFlag" title="Enlace directo al 2.2.3. setQRFlag" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setQRFlag(boolean qr)</span><br></span></code></pre></div></div>
<p>Indica si se quiere o no activar la lectura de QR previo al proceso de autenticaci√≥n.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="224-setusertags">2.2.4. setUserTags<a href="#224-setusertags" class="hash-link" aria-label="Enlace directo al 2.2.4. setUserTags" title="Enlace directo al 2.2.4. setUserTags" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setUserTags(byte[] uTags)</span><br></span></code></pre></div></div>
<p>Establece 4 bytes con datos que pueden ser configurados por la aplicaci√≥n principal y que ser√°n incorporados a las plantillas generadas por el extractor.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="225-setresourcespath">2.2.5. setResourcesPath<a href="#225-setresourcespath" class="hash-link" aria-label="Enlace directo al 2.2.5. setResourcesPath" title="Enlace directo al 2.2.5. setResourcesPath" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setResourcesPath(String path)</span><br></span></code></pre></div></div>
<p>Establece la ruta donde se encuentra el archivo de recursos del widget. Este archivo contiene tanto los recursos gr√°ficos como los recursos de localizaci√≥n.
Esta ruta debe especificarse relativa a la carpeta ‚Äòassets‚Äô de la aplicaci√≥n principal.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="226-setlocale">2.2.6 setLocale<a href="#226-setlocale" class="hash-link" aria-label="Enlace directo al 2.2.6 setLocale" title="Enlace directo al 2.2.6 setLocale" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setLocale(String locale)</span><br></span></code></pre></div></div>
<p>Fuerza al widget a utilizar la configuraci√≥n de idioma indicado por el par√°metro locale.
Este par√°metro acepta tanto un c√≥digo de idioma (p. ej. ‚Äòen‚Äô) como un c√≥digo de identificaci√≥n regional (p. ej. ‚Äòen_US‚Äô). Si el archivo de recursos del widget no tuviera una localizaci√≥n para el ‚Äòlocale‚Äô seleccionado su configuraci√≥n pasar√≠a a utilizar el idioma por defecto.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="227-setfullscreen">2.2.7. setFullscreen<a href="#227-setfullscreen" class="hash-link" aria-label="Enlace directo al 2.2.7. setFullscreen" title="Enlace directo al 2.2.7. setFullscreen" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setFullscreen(boolean fs)</span><br></span></code></pre></div></div>
<p>Establece si se desea que el widget se arranque en modo pantalla completa, ocultando el status bar de Android.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="228-setcamerapreviewsize">2.2.8. setCameraPreviewSize<a href="#228-setcamerapreviewsize" class="hash-link" aria-label="Enlace directo al 2.2.8. setCameraPreviewSize" title="Enlace directo al 2.2.8. setCameraPreviewSize" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setCameraPreviewSize(Point cameraPreviewSize)</span><br></span></code></pre></div></div>
<p>Establece la resoluci√≥n de c√°mara pasando un objeto que contiene el ancho y alto en p√≠xels de la imagen.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="229-setfrontfacingcameraaspreferred">2.2.9 setFrontFacingCameraAsPreferred<a href="#229-setfrontfacingcameraaspreferred" class="hash-link" aria-label="Enlace directo al 2.2.9 setFrontFacingCameraAsPreferred" title="Enlace directo al 2.2.9 setFrontFacingCameraAsPreferred" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setFrontFacingCameraAsPreferred()</span><br></span></code></pre></div></div>
<p>Establece como c√°mara preferida para los procesos de autenticaci√≥n la c√°mara frontal del dispositivo.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2210-setbackfacingcameraaspreferred">2.2.10 setBackFacingCameraAsPreferred<a href="#2210-setbackfacingcameraaspreferred" class="hash-link" aria-label="Enlace directo al 2.2.10 setBackFacingCameraAsPreferred" title="Enlace directo al 2.2.10 setBackFacingCameraAsPreferred" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setBackFacingCameraAsPreferred()</span><br></span></code></pre></div></div>
<p>Establece como c√°mara preferida para los procesos de autenticaci√≥n la c√°mara trasera del dispositivo.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2211-logimages">2.2.11 logImages<a href="#2211-logimages" class="hash-link" aria-label="Enlace directo al 2.2.11 logImages" title="Enlace directo al 2.2.11 logImages" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void logImages(boolean logImages)</span><br></span></code></pre></div></div>
<p>Activa o no el retorno de la lista de im√°genes que se han capturado durante la ejecuci√≥n de proceso de extracci√≥n. Si el par√°metro de entrada se encuentra a <code>true</code>, a la hora de ejecutar el m√©todo <code>getImages()</code> se devolver√° la lista de im√°genes procesadas. En caso contrario, devolver√° una lista vac√≠a.
En el caso de no utilizar im√°genes, se recomienda mantener este modo desactivado con el fin de conseguir mejorar el rendimiento de memoria en los dispositivos.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2212-settutorialflag">2.2.12 setTutorialFlag<a href="#2212-settutorialflag" class="hash-link" aria-label="Enlace directo al 2.2.12 setTutorialFlag" title="Enlace directo al 2.2.12 setTutorialFlag" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setTutorialFlag (boolean debug)</span><br></span></code></pre></div></div>
<p>Establece la opci√≥n de mostrar un tutorial del proceso que se va a realizar a continuaci√≥n. Una vez concluya el tutorial, el widget continuar√° con el proceso configurado.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2213-setdebug">2.2.13 setDebug<a href="#2213-setdebug" class="hash-link" aria-label="Enlace directo al 2.2.13 setDebug" title="Enlace directo al 2.2.13 setDebug" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setDebug(boolean debug)</span><br></span></code></pre></div></div>
<p>Establece el modo de depuraci√≥n del widget.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2214-setvideofilename">2.2.14 setVideoFilename<a href="#2214-setvideofilename" class="hash-link" aria-label="Enlace directo al 2.2.14 setVideoFilename" title="Enlace directo al 2.2.14 setVideoFilename" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setVideoFilename(String filename)</span><br></span></code></pre></div></div>
<p>Establece la ruta absoluta del nombre del archivo en el que se grabar√° un video del proceso de autenticaci√≥n. La aplicaci√≥n es la responsable de solicitar los permisos necesarios al tel√©fono en caso de que esa ruta requiera de permisos adicionales. El widget, por defecto, no realizar√° ning√∫n proceso de grabaci√≥n a menos que se especifique una ruta de archivo mediante este m√©todo.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2215-generatetemplaterawfrombitmap">2.2.15 generateTemplateRawFromBitmap<a href="#2215-generatetemplaterawfrombitmap" class="hash-link" aria-label="Enlace directo al 2.2.15 generateTemplateRawFromBitmap" title="Enlace directo al 2.2.15 generateTemplateRawFromBitmap" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public static byte[] generateTemplateRawFromBitmap(Bitmap img)</span><br></span></code></pre></div></div>
<p>Genera un templateRaw a partir de una imagen nativa de Android. Esta llamada es est√°tica por lo que no requiere del lanzamiento del widget para realizar esta operaci√≥n.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2216-generatetemplaterawfrombytearray">2.2.16 generateTemplateRawFromByteArray<a href="#2216-generatetemplaterawfrombytearray" class="hash-link" aria-label="Enlace directo al 2.2.16 generateTemplateRawFromByteArray" title="Enlace directo al 2.2.16 generateTemplateRawFromByteArray" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public static byte[] generateTemplateRawFromByteArray(byte[] img)</span><br></span></code></pre></div></div>
<p>Genera un templateRaw a partir de una imagen en formato array de bytes. Este array debe contener la representaci√≥n de la imagen en formato jpg o png. Esta llamada es est√°tica por lo que no requiere del lanzamiento del widget para realizar esta operaci√≥n.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2217-getwidgetversion">2.2.17 getWidgetVersion<a href="#2217-getwidgetversion" class="hash-link" aria-label="Enlace directo al 2.2.17 getWidgetVersion" title="Enlace directo al 2.2.17 getWidgetVersion" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public static String getWidgetVersion()</span><br></span></code></pre></div></div>
<p>Devuelve la version actual del widget en formato cadena. Esta llamada es est√°tica por lo que no requiere del lanzamiento del widget para realizar esta operaci√≥n.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2218-setshowaftercapture">2.2.18 setShowAfterCapture<a href="#2218-setshowaftercapture" class="hash-link" aria-label="Enlace directo al 2.2.18 setShowAfterCapture" title="Enlace directo al 2.2.18 setShowAfterCapture" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setShowAfterCapture(boolean value)</span><br></span></code></pre></div></div>
<p>Activa una preview de la selfie obtenida para que el usuario pueda aceptar la captura o repetirla.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2219-setextractionduration">2.2.19 setExtractionDuration<a href="#2219-setextractionduration" class="hash-link" aria-label="Enlace directo al 2.2.19 setExtractionDuration" title="Enlace directo al 2.2.19 setExtractionDuration" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setExtractionDuration(FPhiWidgetExtractionDuration extractionDuration)</span><br></span></code></pre></div></div>
<p>Configura la cantidad de tiempo que el widget permanecer√° extrayendo las caracteristicas faciales del usuario.</p>
<p>Los valores posibles son:</p>
<ul>
<li class=""><strong>Short</strong>: Duraci√≥n de la extracci√≥n de 1 segundo. (Por defecto)</li>
<li class=""><strong>Medium</strong>: Duraci√≥n de la extracci√≥n de 2 segundos.</li>
<li class=""><strong>Long</strong>: Duraci√≥n de la extracci√≥n de 3 segundos.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2220-setpreferredorientation">2.2.20 setPreferredOrientation<a href="#2220-setpreferredorientation" class="hash-link" aria-label="Enlace directo al 2.2.20 setPreferredOrientation" title="Enlace directo al 2.2.20 setPreferredOrientation" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setPreferredOrientation(WidgetOrientation value)</span><br></span></code></pre></div></div>
<p>Configura las orientaciones que el widget permitir√° en la ejecuci√≥n.</p>
<p>Los posibles valores son:</p>
<ul>
<li class=""><strong>FULL_SENSOR</strong>: Todas las orientaciones son permitidas.</li>
<li class=""><strong>FULL_SENSOR_NO_REVERSE</strong>: Todas las orientaciones excepto portrait invertido son permitidas.</li>
<li class=""><strong>PORTRAIT</strong>: Portrait permitida. (Por defecto)</li>
<li class=""><strong>LANDSCAPE_LEFT</strong>: Landscape izquierda permitida.</li>
<li class=""><strong>LANDSCAPE_RIGHT</strong>: Landscape derecha permitida.</li>
<li class=""><strong>PORTRAIT_REVERSE</strong>: Portrait invertido permitida.</li>
<li class=""><strong>PORTRAIT_SENSOR</strong>: Portrait y portrait invertido permitidas.</li>
<li class=""><strong>LANDSCAPE_SENSOR</strong>: Landscape izquierda y derecha permitidas.</li>
<li class=""><strong>LOCKED</strong>: Todas las orientaciones permitidas pero el widget no cambiar√° de orientaci√≥n din√°micamente.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2221-setcameraflash">2.2.21 setCameraFlash<a href="#2221-setcameraflash" class="hash-link" aria-label="Enlace directo al 2.2.21 setCameraFlash" title="Enlace directo al 2.2.21 setCameraFlash" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void setCameraFlash(bool value)</span><br></span></code></pre></div></div>
<p>Activa/Desactiva el flash de la c√°mara.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="2222-setjpgquality">2.2.22 setJPGQuality<a href="#2222-setjpgquality" class="hash-link" aria-label="Enlace directo al 2.2.22 setJPGQuality" title="Enlace directo al 2.2.22 setJPGQuality" translate="no">‚Äã</a></h4>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    void setJPGQuality(float value)</span><br></span></code></pre></div></div>
<p>Configura la calidad de compresi√≥n jpeg. Valor por defecto: 0.92f.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="23-integraci√≥n-del-widget-android">2.3. Integraci√≥n del widget Android<a href="#23-integraci√≥n-del-widget-android" class="hash-link" aria-label="Enlace directo al 2.3. Integraci√≥n del widget Android" title="Enlace directo al 2.3. Integraci√≥n del widget Android" translate="no">‚Äã</a></h3>
<p>El siguiente ejemplo de c√≥digo ilustra la forma de integrar el widget en una aplicaci√≥n Android:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * Creates an intent that invokes the widget.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public void onCreate(Bundle savedInstanceState) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        super.onCreate(savedInstanceState);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setContentView(R.layout.main);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Intent intent = new Intent(this, Widget.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        startActivityForResult(intent, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } </span><br></span></code></pre></div></div>
<p>En el c√≥digo proporcionado, se crea un objeto <code>Intent</code>, el cual nos va a permitir cambiar entre activities. Este objeto se genera llamando a la clase del widget de Android:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Intent intent = new Intent(this, Widget.class);</span><br></span></code></pre></div></div>
<p>Para poder ejecutar un <code>Activity</code> desde nuestra aplicaci√≥n principal, en nuestro <code>AndroidManifest.xml</code> debemos declarar nuestras actividades.</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">activity</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.facephi.selphi.Widget</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span><br></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">    </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">label</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Your app name</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">activity</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p>Se le deben conceder permisos a la c√°mara para poder hacer uso de ella:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-permission</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.permission.CAMERA</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">uses-feature</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">android.hardware.camera</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><br></span></code></pre></div></div>
<p>Es necesario establecer el archivo de donde se va a obtener la personalizacion gr√°fica del widget.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Intent intent = new Intent(this, Widget.class);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WidgetConfiguration conf = new WidgetConfiguration(&quot;fphi-widget-resources-SelphiLive-1.2.zip&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    intent.putExtra(&quot;configuration&quot;, conf);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    startActivityForResult(intent, 1);</span><br></span></code></pre></div></div>
<p>Se genera un objeto de tipo <code>WidgetConfiguration</code> que nos va a servir para la comunicaci√≥n con el widget e indicarle la configuraci√≥n que va a tener el extractor. La instrucci√≥n para pasarle la configuraci√≥n al extractor es la siguiente:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    intent.putExtra(&quot;configuration&quot;, conf);</span><br></span></code></pre></div></div>
<p>Donde <code>conf</code> es nuestro objeto <code>WidgetConfiguration</code>.</p>
<p>Es indispensable que el primer par√°metro del m√©todo <code>putExtra(‚Ä¶, ‚Ä¶)</code> sea un <code>String</code> cuyo contenido sea &quot;configuration&quot;, tal y como se indica en el ejemplo, ya que el widget espera recibir esta cadena en su llamada. En caso contrario, la comunicaci√≥n no se va a realizar.
El siguiente paso ser√° inicializar la <code>Activity</code> usando el m√©todo <code>startActivityForResult()</code>. Este m√©todo lanzar√° la <code>Activity</code> del widget y esperar√° respuesta del mismo. La llamada ser√° la siguiente:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    startActivityForResult(intent, 1);</span><br></span></code></pre></div></div>
<p>Se le pasa como primer par√°metro el intent al que le habremos insertado la configuraci√≥n del extractor. Como segundo par√°metro se le pasa una constante utilizada para saber desde d√≥nde se ha realizado esta llamada, cada llamada deber√° de usar una constante diferente para poder diferenciar el flujo de la aplicaci√≥n.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="24-respuesta-del-widget">2.4. Respuesta del widget<a href="#24-respuesta-del-widget" class="hash-link" aria-label="Enlace directo al 2.4. Respuesta del widget" title="Enlace directo al 2.4. Respuesta del widget" translate="no">‚Äã</a></h3>
<p>Cuando una actividad que ha sido llamada termina y vuelve a otra, se produce un evento llamado ‚ÄúonActivityResult(‚Ä¶)‚Äù. Cuando el proceso de extracci√≥n de patrones haya finalizado en el widget, este evento se lanzar√°, devolviendo la informaci√≥n necesaria para su comunicaci√≥n.</p>
<p>Par√°metros recibidos:</p>
<ul>
<li class=""><strong>requestCode</strong>: C√≥digo tipo entero que coincide con la constante que le hayamos pasado a la actividad principal como segundo par√°metro en <code>startActivityForResult()</code>.</li>
<li class=""><strong>resultCode</strong>: El widget devolver√° result_canceled o result_ok seg√∫n si el proceso entero ha generado alg√∫n fallo durante la extracci√≥n, se ha cancelado de forma manual o si, por el contrario, termina de forma exitosa.</li>
<li class=""><strong>data</strong>: El widget al finalizar su proceso devuelve un <code>Intent</code> con su resultado final.</li>
</ul>
<p>Ejemplo de c√≥digo:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    protected void onActivityResult(int requestCode, int resultCode, Intent data) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (data == null) return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        WidgetResult result = data.getParcelableExtra(&quot;result&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (result == null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            Toast.makeText(getBaseContext(), getResources().getString(R.string.message_no_results),Toast.LENGTH_LONG).show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 1. La extracci√≥n finaliza con errores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (resultCode == RESULT_CANCELED) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (result.getException() != null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(result.getException().getExceptionType() != null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    String exc_message = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    switch(result.getException().getExceptionType()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        case StoppedManually:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            exc_message = getResources().getString (R.string.message_user_stopped_manually);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        case Timeout:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            exc_message = getResources().getString(R.string.message_timeout_error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        case CameraPermissionDenied:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            exc_message = getResources().getString(R.string.message_camera_permission_error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        case SettingsPermissionDenied:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            exc_message = getResources().getString(R.string.message_settings_permission_error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        default:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            exc_message = getResources().getString(R.string.message_unexpected_error);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                } </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Toast.makeText(getBaseContext(),exc_message, Toast.LENGTH_LONG).show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2. La extracci√≥n ha finalizado con √©xito. </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // La aplicaci√≥n puede recuperar la informaci√≥n del &quot;templateRaw&quot;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    byte[] templateRaw = result.getTemplateRaw();</span><br></span></code></pre></div></div>
<p>En cualquier modo utilizado (Authenticate, Register) se obtiene el resultado de la extracci√≥n en un objeto de la clase <code>WidgetResult</code>.
Para obtener la plantilla resultante de la extracci√≥n, usar la siguiente llamada:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    WidgetResult wResult = data.getParcelableExtra(&quot;result&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    byte[] templateRaw = wResult.getTemplateRaw();</span><br></span></code></pre></div></div>
<p>Cada <code>WidgetResult</code> contiene la siguiente informaci√≥n:</p>
<ul>
<li class=""><strong>getTemplateRaw()</strong>: Devuelve la plantilla en bruto que se genera despu√©s del proceso de extracci√≥n.</li>
<li class=""><strong>getImages()</strong>: Si el flag logImages() se activ√≥, devuelve las im√°genes que se obtienen durante el proceso de extracci√≥n. Las im√°genes se devuelven ordenadas por el instante de tiempo en el que se obtubieron.</li>
<li class=""><strong>getBestImage()</strong>: Devuelve la mejor imagen extra√≠da del proceso de autenticaci√≥n. Esta imagen es la imagen con el tama√±o original extra√≠da de la c√°mara.</li>
<li class=""><strong>getBestImageCropped()</strong>: Devuelve una imagen recortada centrada en la cara del usuario. Esta imagen se obtiene a partir de la &quot;bestImage&quot;. √âsta es la imagen que se deber√° utilizar como imagen caracter√≠stica del usuario que realiz√≥ el proceso a modo de ‚Äòavatar‚Äô</li>
<li class=""><strong>getLivenessDiagnostic()</strong>: Devuelve el diagn√≥stico final de la ejecuci√≥n del proceso de liveness.</li>
<li class=""><strong>getQRData()</strong>: Devuelve los datos del c√≥digo QR capturado.</li>
<li class=""><strong>getIADBundle()</strong>: Devuelve los datos encriptados del analisis de deteccion de ataques de inyecci√≥n de video.</li>
<li class=""><strong>getException()</strong>: Devuelve la excepci√≥n generada desde el widget.</li>
</ul>
<p>El m√©todo <code>getException()</code> devuelve un objeto de tipo WidgetException que contiene tanto el mensaje de la excepci√≥n <code>getMessage()</code> como el tipo de excepci√≥n <code>getExceptionType()</code>.</p>
<p>Los posibles valores para el tipo de excepci√≥n son:</p>
<ul>
<li class=""><strong>WidgetExceptionType.StoppedManually</strong>: Excepci√≥n que se produce cuando el usuario para la extracci√≥n de forma manual.</li>
<li class=""><strong>WidgetExceptionType.Timeout</strong>: Excepci√≥n que se produce cuando transcurre un tiempo m√°ximo sin conseguir finalizar la extracci√≥n con √©xito.</li>
<li class=""><strong>WidgetExceptionType.CameraPermissionDenied</strong>: Excepci√≥n que se produce cuando el widget no tiene permiso de acceso a la c√°mara.</li>
<li class=""><strong>WidgetExceptionType.SettingsPermissionDenied</strong>: Excepci√≥n que se produce cuando el widget no tiene permiso para modificar ajustes de configuraci√≥n.</li>
<li class=""><strong>Otros Valores</strong>: Otras excepciones producidas en el widget.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="241-el-interfaz-ifphiwidgeteventlistener">2.4.1. El interfaz IFPhiWidgetEventListener<a href="#241-el-interfaz-ifphiwidgeteventlistener" class="hash-link" aria-label="Enlace directo al 2.4.1. El interfaz IFPhiWidgetEventListener" title="Enlace directo al 2.4.1. El interfaz IFPhiWidgetEventListener" translate="no">‚Äã</a></h4>
<p>Este interfaz permite que el widget se comunique con la aplicaci√≥n principal en tiempo real y notifique sobre eventos importantes que ocurran durante el transcurso de la ejecuci√≥n.</p>
<p>Para esto ser√° necesario que la aplicaci√≥n cree una clase que implemente este interfaz el cual consta de un √∫nico m√©todo:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public void onEvent(long time, @NonNull String type, @NonNull String info)</span><br></span></code></pre></div></div>
<p>Esta funci√≥n recibe como par√°metros el tiempo en el que se lanz√≥ el evento, codificado como UnixTime en milisegundos, el tipo de evento que se ha producido y la informaci√≥n adicional asociada a dicho evento.</p>
<p>Los eventos recibidos son principalmente de 3 tipos:</p>
<ul>
<li class="">Eventos relacionados con cambios de pantalla o de estados en los que se encuentra el widget.</li>
<li class="">Eventos de usuario como pueden ser pulsaciones de botones o movimientos tipo swipe.</li>
<li class="">Eventos relacionados con los procesos que se est√°n llevando acabo, como pueden ser errores por ausencia de cara, por movimientos incorrectos, o por no hacer caso a las indicaciones que se reciben, entre otros.</li>
</ul>
<p>Mediante estos eventos se comunica a la aplicaci√≥n principal aquellos datos que puedan ser de inter√©s a la hora de analizar el comportamiento de los usuarios cuando usan la tecnolog√≠a.
Una vez creada la clase que implementa este interfaz, la aplicaci√≥n llamar√° al m√©todo del objeto de configuraci√≥n:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    conf.setIFPhiWidgetEventListener_classname(&quot;nombre.clase.interfaz&quot;)</span><br></span></code></pre></div></div>
<p>Pas√°ndole el nombre completo de la clase que implementa dicho interfaz.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="25-ejemplo-recuperaci√≥n-datos-del-widget">2.5. Ejemplo recuperaci√≥n datos del widget<a href="#25-ejemplo-recuperaci√≥n-datos-del-widget" class="hash-link" aria-label="Enlace directo al 2.5. Ejemplo recuperaci√≥n datos del widget" title="Enlace directo al 2.5. Ejemplo recuperaci√≥n datos del widget" translate="no">‚Äã</a></h3>
<p>En el siguiente c√≥digo se muestra al usuario el correcto uso para la recuperaci√≥n de la informaci√≥n proveniente del widget:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // Recoge la respuesta del widget</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WidgetResult result = data.getParcelableExtra(&quot;result&quot;);</span><br></span></code></pre></div></div>
<p>La clase <code>WidgetResult</code> contiene informaci√≥n acerca del resultado de extracci√≥n, cualquier excepci√≥n que pueda suceder y una lista de im√°genes para cada paso.</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // Devuelve un objeto de excepci√≥n que contiene el mensaje y su tipo.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result.getException(); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Devuelve la lista de im√°genes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result.getImages();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Devuelve plantilla obtenida en la extracci√≥n.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result.getTemplateRaw();</span><br></span></code></pre></div></div>
<p>El m√©todo <code>getImages()</code> devuelve una lista de <code>FPhiImage</code> guardadas en la memoria nativa del dispositivo.
Para transformar este tipo de objeto a Bitmap, usar el m√©todo est√°tico del widget <code>FPhiWidgetAndroid.GetBitmap(width, height, config)</code></p>
<p>NOTA IMPORTANTE: Para poder devolver las im√°genes del usuario, en la configuraci√≥n del widget se debe establecer la propiedad <code>logImages</code> a <code>true</code>.
Dada la importante carga de memoria que se produce al procesar las im√°genes desde c√°mara, se requiere activar la propiedad <code>largeHeap</code> para las actividades de Android en su <code>AndroidManifest.xml</code>:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">application</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">android:</span><span class="token tag attr-name" style="color:#00a4db">largeHeap</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">application</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-personalizaci√≥n-del-widget">3. Personalizaci√≥n del Widget<a href="#3-personalizaci√≥n-del-widget" class="hash-link" aria-label="Enlace directo al 3. Personalizaci√≥n del Widget" title="Enlace directo al 3. Personalizaci√≥n del Widget" translate="no">‚Äã</a></h2>
<p>El widget permite la personalizaci√≥n de textos, im√°genes, fuentes de letra y colores. La personalizaci√≥n se realiza mediante el archivo .zip suministrado con el widget. Este zip est√° compuesto de un fichero llamado <code>widget.xml</code> que contiene la definici√≥n de todas las pantallas del widget, cada una de ellas con una serie de elementos los cuales permiten realizar la personalizaci√≥n. El archivo zip tambi√©n contiene una carpeta con recursos gr√°ficos y otra carpeta con las traducciones de los textos.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-descripci√≥n-b√°sica">3.1. Descripci√≥n b√°sica<a href="#31-descripci√≥n-b√°sica" class="hash-link" aria-label="Enlace directo al 3.1. Descripci√≥n b√°sica" title="Enlace directo al 3.1. Descripci√≥n b√°sica" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="311-personalizaci√≥n-de-textos">3.1.1. Personalizaci√≥n de textos<a href="#311-personalizaci√≥n-de-textos" class="hash-link" aria-label="Enlace directo al 3.1.1. Personalizaci√≥n de textos" title="Enlace directo al 3.1.1. Personalizaci√≥n de textos" translate="no">‚Äã</a></h4>
<p>La personalizaci√≥n de textos se realiza editando los textos de los archivos de traducciones existentes en el .zip de recursos.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    /strings/strings.es.xml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /strings/strings.xml</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="312-personalizaci√≥n-de-im√°genes">3.1.2. Personalizaci√≥n de im√°genes<a href="#312-personalizaci√≥n-de-im√°genes" class="hash-link" aria-label="Enlace directo al 3.1.2. Personalizaci√≥n de im√°genes" title="Enlace directo al 3.1.2. Personalizaci√≥n de im√°genes" translate="no">‚Äã</a></h4>
<p>Para personalizar las im√°genes que usa el widget se deben a√±adir las im√°genes en el .zip de recursos. En el zip vienen 3 carpetas:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    /resources/163dpi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /resources/326dpi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /resources/489dpi</span><br></span></code></pre></div></div>
<p>Estas carpetas corresponden a las diferentes densidades de pantalla y se pueden crear tantas carpetas de densidad como se desee. En estas carpetas est√°n las versiones de las im√°genes para cada una de las resoluciones.</p>
<p>Es necesario a√±adir las im√°genes en todas las carpetas, ya que una vez determinada la resoluci√≥n √≥ptima para el dispositivo, el widget s√≥lo carga im√°genes de la carpeta con la resoluci√≥n elegida.
Las im√°genes son referenciadas desde el archivo <code>widget.xml</code>.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="313-personalizaci√≥n-de-colores">3.1.3. Personalizaci√≥n de colores<a href="#313-personalizaci√≥n-de-colores" class="hash-link" aria-label="Enlace directo al 3.1.3. Personalizaci√≥n de colores" title="Enlace directo al 3.1.3. Personalizaci√≥n de colores" translate="no">‚Äã</a></h4>
<p>La personalizaci√≥n de los colores de los botones se realiza desde el archivo <code>widget.xml</code>. En √©l se puede personalizar cualquier color de cualquier elemento gr√°fico que aparece en el widget. Simplemente basta con modificar el color de la propiedad deseada.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="314-personalizaci√≥n-de-tipo-de-fuente">3.1.4. Personalizaci√≥n de tipo de fuente<a href="#314-personalizaci√≥n-de-tipo-de-fuente" class="hash-link" aria-label="Enlace directo al 3.1.4. Personalizaci√≥n de tipo de fuente" title="Enlace directo al 3.1.4. Personalizaci√≥n de tipo de fuente" translate="no">‚Äã</a></h4>
<p>Los archivos de tipograf√≠a deben colocarse en la carpeta <code>/resources/163dpi</code> y una vez ah√≠ pueden ser referenciados desde el archivo <code>widget.xml</code>. Para cambiar el tipo de letra de un elemento de texto bastar√≠a con modificar la propiedad ‚Äòfont‚Äô y poner el nombre del archivo correspondiente.</p>
<p>En el siguiente apartado se ampliar√° la informaci√≥n acerca del contenido del bundle de recursos y el modo de modificar.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-descripci√≥n-avanzada">3.2. Descripci√≥n avanzada<a href="#32-descripci√≥n-avanzada" class="hash-link" aria-label="Enlace directo al 3.2. Descripci√≥n avanzada" title="Enlace directo al 3.2. Descripci√≥n avanzada" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="321-widgetxml">3.2.1. Widget.xml<a href="#321-widgetxml" class="hash-link" aria-label="Enlace directo al 3.2.1. Widget.xml" title="Enlace directo al 3.2.1. Widget.xml" translate="no">‚Äã</a></h4>
<p>Este fichero contiene la definici√≥n de todas las propiedades que son configurables en los procesos de autenticaci√≥n. Est√° dividido por pantallas de navegaci√≥n y dentro de cada etiqueta de pantalla se encuentran todas las propiedades que pueden modificarse.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="322-carpeta-strings">3.2.2. Carpeta strings<a href="#322-carpeta-strings" class="hash-link" aria-label="Enlace directo al 3.2.2. Carpeta strings" title="Enlace directo al 3.2.2. Carpeta strings" translate="no">‚Äã</a></h4>
<p>Esta carpeta contiene un fichero <code>strings.xml</code> por cada traducci√≥n que se desee soportar. El nombre debe estar formado de la siguiente manera:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    strings.(idioma).xml</span><br></span></code></pre></div></div>
<p>Siendo (idioma) el c√≥digo del idioma. Por ejemplo, <code>strings.es.xml</code> ser√≠a la traducci√≥n en castellano, <code>strings.en.xml</code> la traducci√≥n en ingl√©s, <code>strings.es_ES.xml</code> el espa√±ol de Espa√±a o <code>strings.es_AR.xml</code> el espa√±ol de Argentina.</p>
<p>Se puede forzar el idioma o dejar que el widget lo escoja en funci√≥n de la configuraci√≥n del dispositivo. A la hora de decidir cu√°l es el idioma a aplicar se sigue el siguiente orden:</p>
<ul>
<li class="">Buscar por c√≥digo de localizaci√≥n (por ejemplo, &quot;es_AR&quot;).</li>
<li class="">Si no encuentra ninguna que coincida, buscar√≠a uno para el idioma gen√©rico (es decir, en este caso ser√≠a &quot;es&quot;).</li>
<li class="">Si tampoco existiese ning√∫n resultado, entonces usar√≠a el idioma por defecto.</li>
</ul>
<p>A nivel de c√≥digo es posible seleccionar la localizaci√≥n mediante la propiedad locale. Este par√°metro acepta un string con el c√≥digo de lenguaje que se desea utilizar (por ejemplo, &quot;es&quot; o &quot;es_ES&quot;).</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="323-carpeta-resources">3.2.3. Carpeta resources<a href="#323-carpeta-resources" class="hash-link" aria-label="Enlace directo al 3.2.3. Carpeta resources" title="Enlace directo al 3.2.3. Carpeta resources" translate="no">‚Äã</a></h4>
<p>Contiene las carpetas con todos los recursos necesarios para poder modificarse, divididos en densidades. Es obligatorio generar las im√°genes en todas las densidades ya que el widget espera encontrarlas en la carpeta correspondiente a la densidad del dispositivo. Tambi√©n se pueden crear nuevas carpetas con la densidad deseada.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="324-elemento-background">3.2.4. Elemento BACKGROUND<a href="#324-elemento-background" class="hash-link" aria-label="Enlace directo al 3.2.4. Elemento BACKGROUND" title="Enlace directo al 3.2.4. Elemento BACKGROUND" translate="no">‚Äã</a></h4>
<p>El elemento <code>background</code> se compone de 4 segmentos a los que se puede dar color independientemente:</p>
<ul>
<li class=""><strong>top</strong>: define el color de fondo el segmento o panel superior.</li>
<li class=""><strong>middle_top</strong>: define el color de fondo del segmento o panel donde est√° situada la imagen de la c√°mara.</li>
<li class=""><strong>middle_bottom</strong>: define el color de fondo el segmento o panel situado debajo de la imagen de la c√°mara.</li>
<li class=""><strong>bottom</strong>: define el color de fondo el segmento o panel inferior.</li>
</ul>
<p>Tambi√©n se pueden configurar ciertas propiedades que se usan solo en pantallas espec√≠ficas. A continuaci√≥n, las enumeramos haciendo referencia a las pantallas en la que son utilizadas:</p>
<ul>
<li class=""><strong>pagination_separator (RegistrationTips, FaceMovementTips)</strong>: define el color de la separaci√≥n entre el panel inferior y el panel de debajo de la c√°mara.</li>
<li class=""><strong>mirror_border_color (RegistrationTips, FaceMovementTips)</strong>: define el color del borde del c√≠rculo que rodea a la imagen de la c√°mara o del video de los consejos de registro. A este elemento tambi√©n se le llama mirror o espejo.</li>
<li class=""><strong>mirror_border_width (RegistrationTips, FaceMovementTips)</strong>: define el ancho del borde del c√≠rculo que rodea a la imagen de la c√°mara o del video de los consejos de registro. Si no dese√°ramos mostrar un borde, tendr√≠amos que asignar un valor de 0.0 a esta propiedad.</li>
<li class=""><strong>mirror_mist_color (StartExtractor)</strong>: define el color del c√≠rculo central en la pantalla previa a la extracci√≥n. Este color deber√° tener siempre un valor de transparencia ya que debemos dejar ver la imagen de la c√°mara para que el usuario pueda colocarse correctamente antes de empezar con la extracci√≥n. El formato del color cuando se incluye un valor de transparencia es RGBA (El valor de alpha se indicar√° con el √∫ltimo byte).</li>
<li class=""><strong>mirror_color (Results)</strong>: define el color de fondo del c√≠rculo que muestra los resultados del proceso de registro.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="325-elemento-button">3.2.5. Elemento BUTTON<a href="#325-elemento-button" class="hash-link" aria-label="Enlace directo al 3.2.5. Elemento BUTTON" title="Enlace directo al 3.2.5. Elemento BUTTON" translate="no">‚Äã</a></h4>
<ul>
<li class=""><strong>background</strong>: define el color de fondo el bot√≥n</li>
<li class=""><strong>decorator</strong>: define el color de la sombra del bot√≥n</li>
<li class=""><strong>foreground</strong>: define el color de la fuente del bot√≥n en caso de que el contenido sea un texto</li>
<li class=""><strong>content_type</strong>: define el tipo de contenido del bot√≥n. Existen 2 tipos diferentes:</li>
<li class=""><strong>resource_id</strong>: Content debe contener el nombre de un archivo en el bundle de recursos</li>
<li class=""><strong>text_id</strong>: Content debe contener el identificador de un literal del fichero de traducciones del bundle de recursos</li>
<li class=""><strong>content</strong>: define el contenido del bot√≥n. Puede ser tanto una imagen como el identificador de un literal.</li>
<li class=""><strong>align</strong>: Define la alienaci√≥n del contenido del bot√≥n, ya sea una imagen o un texto</li>
<li class=""><strong>font</strong>: Define el tipo de letra utilizado si el contenido del bot√≥n es un texto</li>
<li class=""><strong>font_size</strong>: Define el tama√±o de la letra si el contenido del bot√≥n es un texto</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="326-elemento-text">3.2.6. Elemento TEXT<a href="#326-elemento-text" class="hash-link" aria-label="Enlace directo al 3.2.6. Elemento TEXT" title="Enlace directo al 3.2.6. Elemento TEXT" translate="no">‚Äã</a></h4>
<p>Los elementos <code>text</code> se utilizan para definir el aspecto gr√°fico de los textos de cada una de las pantallas del widget. Estas son las propiedades que se pueden modificar:</p>
<ul>
<li class=""><strong>color</strong>: define el color del texto.</li>
<li class=""><strong>font</strong>: define el tipo de fuente utilizado para mostrar el texto.</li>
<li class=""><strong>font_size</strong>: define el tama√±o de la fuente.</li>
</ul>
<p>Hay que tener en cuenta que en la pantalla de resultados del registro los dos textos que definen la calidad del registro tienen forzado su color al color de la barra que indica la puntuaci√≥n.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="327-elemento-image">3.2.7. Elemento IMAGE<a href="#327-elemento-image" class="hash-link" aria-label="Enlace directo al 3.2.7. Elemento IMAGE" title="Enlace directo al 3.2.7. Elemento IMAGE" translate="no">‚Äã</a></h4>
<ul>
<li class=""><strong>value</strong>: define el nombre del archivo que contiene la imagen a mostrar.</li>
</ul>
<p>Los elementos <code>image</code> solo tienen la propiedad que define el archivo donde se encuentra la imagen f√≠sicamente en el bundle de recursos. Las im√°genes se obtienen del bundle buscando en la carpeta apropiada de acuerdo con la densidad del dispositivo.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="328-elemento-video">3.2.8. Elemento VIDEO<a href="#328-elemento-video" class="hash-link" aria-label="Enlace directo al 3.2.8. Elemento VIDEO" title="Enlace directo al 3.2.8. Elemento VIDEO" translate="no">‚Äã</a></h4>
<ul>
<li class=""><strong>value</strong>: define el nombre del archivo que contiene el video a mostrar.</li>
</ul>
<p>Los elementos <code>video</code> solo tienen la propiedad que define el archivo donde se encuentra el video f√≠sicamente en el bundle de recursos.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-integraci√≥n-en-aplicaciones-android">4. Integraci√≥n en aplicaciones Android<a href="#4-integraci√≥n-en-aplicaciones-android" class="hash-link" aria-label="Enlace directo al 4. Integraci√≥n en aplicaciones Android" title="Enlace directo al 4. Integraci√≥n en aplicaciones Android" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="41-requisitos-m√≠nimos">4.1. Requisitos m√≠nimos<a href="#41-requisitos-m√≠nimos" class="hash-link" aria-label="Enlace directo al 4.1. Requisitos m√≠nimos" title="Enlace directo al 4.1. Requisitos m√≠nimos" translate="no">‚Äã</a></h3>
<p>Para la correcta integraci√≥n del widget de reconocimiento facial en una aplicaci√≥n Android, es necesario disponer de la siguiente versi√≥n del sistema operativo Android:</p>
<ul>
<li class="">API level 15 (Android 4.0.3)</li>
<li class="">RAM: 2 GB</li>
</ul>
<p>Si se usa la caracteristica de Detecci√≥n de Ataques de Inyecci√≥n (IAD) entonces:</p>
<ul>
<li class="">API level 24 (Android 7.0)</li>
<li class="">RAM: 3 GB</li>
</ul>
<p>En cuanto a la arquitectura del dispositivo m√≥vil:</p>
<ul>
<li class="">armeabi-v7, x86, arm64 y x64</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="42-contenido-suministrado">4.2. Contenido suministrado<a href="#42-contenido-suministrado" class="hash-link" aria-label="Enlace directo al 4.2. Contenido suministrado" title="Enlace directo al 4.2. Contenido suministrado" translate="no">‚Äã</a></h3>
<p>Los elementos que se proporcionan con la SDK para la integraci√≥n del widget se componen de:</p>
<ul>
<li class="">Android Studio: Las librer√≠as de archivos de Android (Android Archive Library) llamadas <code>fphi-core-widget-android.aar</code> y <code>fphi-selphi-widget-android.aar</code></li>
</ul>
<p>Adicionalmente, se entrega un archivo zip que contiene la configuraci√≥n gr√°fica y de localizaci√≥n del widget, mediante el cual se puede personalizar la apariencia f√≠sica del widget para una mejor integraci√≥n con la aplicaci√≥n final que lo va a contener.
Adem√°s, junto con la SDK se proporciona un ejemplo de programaci√≥n para Android Studio que ayuda al integrador a consumir el widget en una aplicaci√≥n Android.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="43-configuraci√≥n-del-widget-android">4.3. Configuraci√≥n del widget Android<a href="#43-configuraci√≥n-del-widget-android" class="hash-link" aria-label="Enlace directo al 4.3. Configuraci√≥n del widget Android" title="Enlace directo al 4.3. Configuraci√≥n del widget Android" translate="no">‚Äã</a></h3>
<p>Resumen de los m√©todos para configurar el widget:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //Crear el objeto de configuraci√≥n con todos los valores anteriores.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WidgetConfiguration conf = new WidgetConfiguration();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Establecer la ruta del archivo de recursos gr√°ficos y de localizaci√≥n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conf.setResourcesPath(path);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Establecer el modo de liveness de extracci√≥n (LIVENESS_NONE, LIVENESS_PASSIVE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conf.setLivenessMode(mode);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Establecer si se quiere o no que el widget obligue a la lectura de un QR antes del proceso de autenticaci√≥n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conf.setQRFlag(QRflag);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Establecer la resoluci√≥n de la c√°mara </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    conf.setCameraPreviewSize(cameraPreviewSize);</span><br></span></code></pre></div></div>
<p>El widget Android proporcionado por FacePhi es el responsable de realizar la extracci√≥n de las caracter√≠sticas faciales del usuario, y de esta forma generar una plantilla facial (template) representativa del mismo. Esta plantilla facial debe ser enviada a un servidor web para realizar el registro de los usuarios mediante el rostro, la autenticaci√≥n y la identificaci√≥n de usuarios.</p>
<p>Por tanto, la aplicaci√≥n Android que integra el widget debe consultar un servicio web que estar√° publicado en un servidor accesible mediante Internet.
En el lado del servidor, la aplicaci√≥n web utiliza las librer√≠as de reconocimiento facial de FacePhi para realizar los procesos que impliquen el registro y mejora de usuarios y la comparaci√≥n de plantillas faciales.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="P√°gina del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/sdk-mobile-documentation/es/docs/resources/Selphi_resources"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Recursos de Selphi</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sdk-mobile-documentation/es/docs/resources/Selphi_widget_ios"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Selphi Widget iOS</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-introducci√≥n" class="table-of-contents__link toc-highlight">1. Introducci√≥n</a><ul><li><a href="#11-versi√≥n-del-widget" class="table-of-contents__link toc-highlight">1.1. Versi√≥n del widget</a></li><li><a href="#12-requerimientos-m√≠nimos" class="table-of-contents__link toc-highlight">1.2. Requerimientos m√≠nimos</a></li></ul></li><li><a href="#2-api-interfaz-de-programaci√≥n-de-aplicaciones" class="table-of-contents__link toc-highlight">2. API (Interfaz de programaci√≥n de aplicaciones)</a><ul><li><a href="#21-propiedades" class="table-of-contents__link toc-highlight">2.1. Propiedades</a></li><li><a href="#22-m√©todos" class="table-of-contents__link toc-highlight">2.2. M√©todos</a></li><li><a href="#23-integraci√≥n-del-widget-android" class="table-of-contents__link toc-highlight">2.3. Integraci√≥n del widget Android</a></li><li><a href="#24-respuesta-del-widget" class="table-of-contents__link toc-highlight">2.4. Respuesta del widget</a></li><li><a href="#25-ejemplo-recuperaci√≥n-datos-del-widget" class="table-of-contents__link toc-highlight">2.5. Ejemplo recuperaci√≥n datos del widget</a></li></ul></li><li><a href="#3-personalizaci√≥n-del-widget" class="table-of-contents__link toc-highlight">3. Personalizaci√≥n del Widget</a><ul><li><a href="#31-descripci√≥n-b√°sica" class="table-of-contents__link toc-highlight">3.1. Descripci√≥n b√°sica</a></li><li><a href="#32-descripci√≥n-avanzada" class="table-of-contents__link toc-highlight">3.2. Descripci√≥n avanzada</a></li></ul></li><li><a href="#4-integraci√≥n-en-aplicaciones-android" class="table-of-contents__link toc-highlight">4. Integraci√≥n en aplicaciones Android</a><ul><li><a href="#41-requisitos-m√≠nimos" class="table-of-contents__link toc-highlight">4.1. Requisitos m√≠nimos</a></li><li><a href="#42-contenido-suministrado" class="table-of-contents__link toc-highlight">4.2. Contenido suministrado</a></li><li><a href="#43-configuraci√≥n-del-widget-android" class="table-of-contents__link toc-highlight">4.3. Configuraci√≥n del widget Android</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 SDK Mobile, Facephi.</div></div></div></footer></div>
</body>
</html>