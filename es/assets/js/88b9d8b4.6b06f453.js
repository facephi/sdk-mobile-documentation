"use strict";(self.webpackChunksdk_mobile_doc=self.webpackChunksdk_mobile_doc||[]).push([[1602],{20225:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/fix_ldClassic-18c668c14649e02798c4250d1af70c05.png"},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var r=i(96540);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}},51104:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Tracking_Component","title":"Tracking Component","description":"0. Requisitos base de SDK Mobile","source":"@site/i18n/es/docusaurus-plugin-content-docs-ios/version-2.3.X/Tracking_Component.md","sourceDirName":".","slug":"/Tracking_Component","permalink":"/sdk-mobile-documentation/es/docs/ios/Tracking_Component","draft":false,"unlisted":false,"tags":[],"version":"2.3.X","frontMatter":{},"sidebar":"sidebar","previous":{"title":"Primeros Pasos","permalink":"/sdk-mobile-documentation/es/docs/ios/Mobile_SDK"},"next":{"title":"Selphi Component","permalink":"/sdk-mobile-documentation/es/docs/ios/Selphi_Component"}}');var s=i(74848),a=i(28453);const o={},l="Tracking Component",c={},d=[{value:"0. Requisitos base de SDK Mobile",id:"0-requisitos-base-de-sdk-mobile",level:2},{value:"1. Introducci\xf3n",id:"1-introducci\xf3n",level:2},{value:"1.1 Requisitos m\xednimos",id:"11-requisitos-m\xednimos",level:3},{value:"2. Integraci\xf3n del componente",id:"2-integraci\xf3n-del-componente",level:2},{value:"2.1. Dependencias requeridas para la integraci\xf3n",id:"21-dependencias-requeridas-para-la-integraci\xf3n",level:3},{value:"3. Iniciar nueva operaci\xf3n",id:"3-iniciar-nueva-operaci\xf3n",level:2},{value:"4. Configuraci\xf3n del componente",id:"4-configuraci\xf3n-del-componente",level:2},{value:"5. Uso del componente",id:"5-uso-del-componente",level:2},{value:"6. Recepci\xf3n del resultado",id:"6-recepci\xf3n-del-resultado",level:2}];function t(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"tracking-component",children:"Tracking Component"})}),"\n",(0,s.jsx)(n.h2,{id:"0-requisitos-base-de-sdk-mobile",children:"0. Requisitos base de SDK Mobile"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"SDK Mobile"})," es un conjunto de librer\xedas (",(0,s.jsx)(n.strong,{children:"Componentes"}),") que ofrece una serie de funcionalidades y servicios, permitiendo a su vez su integraci\xf3n en una aplicaci\xf3n Mobile de forma sencilla y totalmente escalable. Dependiendo del caso de uso que se requiera, se deber\xe1 realizar la instalaci\xf3n de unos determinados componentes. Su alto nivel de modularidad permite que, en un futuro, se puedan a\xf1adir otros componentes nuevos sin afectar en absoluto a los ya integrados en el proyecto."]}),"\n",(0,s.jsxs)(n.p,{children:["Para m\xe1s informaci\xf3n sobre la configuraci\xf3n base, vaya a la secci\xf3n de\n",(0,s.jsx)(n.a,{href:"./Mobile_SDK#11-requisitos-m%C3%ADnimos",children:"Primeros Pasos"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"1-introducci\xf3n",children:"1. Introducci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["El ",(0,s.jsx)(n.em,{children:"Componente"})," tratado en el documento actual recibe el nombre de\n",(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.em,{children:"Tracking Component"})}),". \xc9ste se encarga de realizar el trackeo y\nmonitorizaci\xf3n de la informaci\xf3n obtenida durante la ejecuci\xf3n del resto\nde componentes de la ",(0,s.jsx)(n.strong,{children:"SDKMobile"}),", envi\xe1ndola a los servicios de la\n",(0,s.jsx)(n.strong,{children:"Plataforma"}),". Se podr\xe1 realizar el seguimiento en tiempo real de estos\ndatos en la ",(0,s.jsx)(n.strong,{children:"Plataforma"}),", mientras se est\xe1 ejecutando el proceso en el\ndispositivo del cliente."]}),"\n",(0,s.jsxs)(n.p,{children:["Al contrario que ocurre con el resto, este componente no funciona\nindividualmente, trabaja de forma transversal al resto de componentes\ninstalados en la ",(0,s.jsx)(n.em,{children:"SDKMobile"}),". Para trackear la informaci\xf3n se mantiene\nen segundo plano mientras se ejecuta el proceso de la ",(0,s.jsx)(n.strong,{children:"SDKMobile"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"11-requisitos-m\xednimos",children:"1.1 Requisitos m\xednimos"}),"\n",(0,s.jsx)(n.p,{children:"La versi\xf3n m\xednima de la SDK de iOS requerida es la siguiente:"}),"\n",(0,s.jsxs)(n.p,{children:["Versi\xf3n m\xednima de iOS: ",(0,s.jsx)(n.strong,{children:"13"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"2-integraci\xf3n-del-componente",children:"2. Integraci\xf3n del componente"}),"\n",(0,s.jsx)("div",{class:"warning",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)("span",{class:"warning",children:"\u26a0\ufe0f"}),"\nAntes de integrar este componente se recomienda leer la documentaci\xf3n de ",(0,s.jsx)(n.a,{href:"./Mobile_SDK#2-integraci%C3%B3n-inicial",children:"Integraci\xf3n Inicial"})," y seguir las instrucciones indicadas en dicho documento."]})}),"\n",(0,s.jsx)(n.p,{children:"En esta secci\xf3n se explicar\xe1 paso a paso c\xf3mo integrar el componente\nactual en un proyecto ya existente."}),"\n",(0,s.jsx)(n.h3,{id:"21-dependencias-requeridas-para-la-integraci\xf3n",children:"2.1. Dependencias requeridas para la integraci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["Para evitar conflictos y problemas de compatibilidad, en caso de querer instalar el componente en un proyecto que contenga una versi\xf3n antigua de las librer\xedas de Facephi (Widgets), \xe9stos deber\xe1n eliminarse por completo antes de la instalaci\xf3n de los componentes de la ",(0,s.jsx)(n.strong,{children:"SDKMobile"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Actualmente las librer\xedas de FacePhi se distribuyen de forma remota a trav\xe9s de diferentes gestores de dependencias, en este caso Cocoapods. Las dependencias ",(0,s.jsx)(n.strong,{children:"obligatorias"})," que deber\xe1n haberse instalado previamente (a\xf1adi\xe9ndolas en el fichero Podfile del proyecto) son:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pod 'FPHISDKMainComponent', '~> 2.3.0'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Para instalar el componente de Tracking deber\xe1 incluirse la siguiente entrada en el Podfile de la aplicaci\xf3n:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pod 'FPHISDKTrackingComponent', '~> 2.3.0'\n"})}),"\n",(0,s.jsx)(n.p,{children:"Una vez instaladas las dependencias, se podr\xe1 hacer uso de las diferentes funcionalidades del componente."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["En caso de realizar el desarrollo con ",(0,s.jsx)(n.strong,{children:"XCode15"})," se deber\xe1 incluir un script de post-instalacion:"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Image",src:i(20225).A+"",width:"1834",height:"510"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"3-iniciar-nueva-operaci\xf3n",children:"3. Iniciar nueva operaci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["Cuando se desea realizar una determinada operaci\xf3n, para generar la\ninformaci\xf3n asociada correctamente en la plataforma deber\xe1 ejecutarse\npreviamente el comando ",(0,s.jsx)(n.strong,{children:"newOperation"}),"."]}),"\n",(0,s.jsxs)("div",{class:"note",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)("span",{class:"note",children:"\u2139\ufe0f"}),"\nEste comando debe haberse ejecutado ",(0,s.jsx)(n.strong,{children:"anteriormente al lanzamiento del\ncomponente"}),"."]}),(0,s.jsxs)(n.p,{children:["Para saber m\xe1s acerca de c\xf3mo iniciar una nueva operaci\xf3n, se recomienda\nconsultar la documentaci\xf3n de ",(0,s.jsx)(n.a,{href:"./Mobile_SDK#4-iniciar-nueva-operacion",children:"Iniciar nueva operaci\xf3n"}),", en el que se detalla y explica en qu\xe9 consiste este proceso."]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"4-configuraci\xf3n-del-componente",children:"4. Configuraci\xf3n del componente"}),"\n",(0,s.jsx)(n.p,{children:"El controlador de TrackingController solo se a\xf1adir\xe1 en caso de tener el tracking de la sdkMobile."}),"\n",(0,s.jsx)(n.p,{children:"Se a\xf1ade el import:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"import trackingComponent\n"})}),"\n",(0,s.jsx)(n.p,{children:"trackingController: trackingController"}),"\n",(0,s.jsx)(n.p,{children:"Inicializamos:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'let trackingController = TrackingController(trackingError: { trackingError in\n      print("TRACKING ERROR: \\(trackingError)")\n})\n'})}),"\n",(0,s.jsx)(n.p,{children:"Se a\xf1ade en el initSDK:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'// AUTO License\nSDKController.shared.initSdk(licensingUrl: SdkConfigurationManager.LICENSING_URL, apiKey: SdkConfigurationManager.APIKEY_LICENSING, output: { sdkResult in\n    if sdkResult.finishStatus == .STATUS_OK {\n        self.log("Licencia autom\xe1tica seteada correctamente")\n    } else {\n        self.log("Ha ocurrido un error al intentar obtener la licencia: \\(sdkResult.errorType)")\n    }\n}, trackingController: trackingController)\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"5-uso-del-componente",children:"5. Uso del componente"}),"\n",(0,s.jsxs)(n.p,{children:["Como se ha comentado previamente, una vez inicializado y configurado el\ncomponente de ",(0,s.jsx)(n.strong,{children:"tracking"})," no ser\xe1 necesario lanzarlo, ya que se\nmantendr\xe1 funcionando en segundo plano mientras se ejecutan el resto de\ncomponentes."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"6-recepci\xf3n-del-resultado",children:"6. Recepci\xf3n del resultado"}),"\n",(0,s.jsxs)(n.p,{children:["El resultado es un objeto ",(0,s.jsx)(n.em,{children:"SDKResult"})," que devuelve el SDK tendr\xe1 siempre 3 campos:"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"finishStatus"}),": Que nos indicar\xe1 si la operaci\xf3n ha finalizado correctamente. Posibles valores:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:"FinishStatus.STATUS_OK\nFinishStatus.STATUS_ERROR\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.em,{children:"errorType"}),": Si el finishStatus indica que ha habido un error, este campo tendr\xe1 la descripci\xf3n del mismo:"]}),"\n",(0,s.jsxs)(n.p,{children:["Los errores de tracking vienen en el enum ",(0,s.jsx)(n.em,{children:"TrackingError"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"APPLICATION_CONTEXT_ERROR"}),": Error en la inicializaci\xf3n del contexto"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ASSET_LINK"}),": Error al enviar el enlace del recurso"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ASSET_UPLOAD"}),": Error durante la carga del recurso"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"COMPONENT_LICENSE_ERROR"}),": Licencia del componente ausente o no v\xe1lida"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CUSTOMER_ID"}),": Error al obtener o validar el ID del cliente"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"DEVICE_EVENT_ERROR"}),": Fallo durante un evento relacionado con el dispositivo"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"EMPTY_LICENSE"}),": Datos de licencia vac\xedos o inexistentes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"FLOW"}),": Error durante el flujo de ejecuci\xf3n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"INITIALIZATION_ERROR"}),": Fallo general en la inicializaci\xf3n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"INIT_IDS_ERROR"}),": Error al generar o asignar IDs durante la inicializaci\xf3n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"INIT_OPERATION"}),": Operaci\xf3n fallida en la fase de inicializaci\xf3n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"LICENSE_ERROR"}),": Licencia inv\xe1lida o corrupta"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"MANAGER_NOT_INITIALIZED"}),": Se intent\xf3 usar el gestor sin inicializarlo"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NETWORK_CONNECTION"}),": Problema con la conexi\xf3n de red"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NETWORK_ERROR"}),": Falla gen\xe9rica de red"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"NO_OPERATION_CREATED_ERROR"}),": No se cre\xf3 ninguna operaci\xf3n cuando se esperaba"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OCR_DATA"}),": Error al procesar los datos de OCR"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OPERATION_NOT_CREATED"}),": No se gener\xf3 la operaci\xf3n esperada"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OPERATION_ID"}),": ID de operaci\xf3n inv\xe1lido o ausente"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SESSION_ID"}),": Error con la identificaci\xf3n de sesi\xf3n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"SIGNATURE_RESULT"}),": Fallo en el proceso o resultado de firma"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STEP_CHANGE"}),": Transici\xf3n de paso inesperada o inv\xe1lida"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STEP_RESULT_CANCELLED"}),": El paso fue cancelado de forma inesperada"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STEP_RESULT_ERROR"}),": El paso finaliz\xf3 con un error"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STEP_RESULT_EXPIRED"}),": El resultado del paso expir\xf3 antes de completarse"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"STEP_RESULT_SUCCEEDED"}),": El paso tuvo \xe9xito pero gener\xf3 un problema inesperado"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TOKEN_ERROR"}),": Token ausente, expirado o inv\xe1lido"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ADVANCED_TRACKING_UPLOAD"}),": Fallo al subir los datos de seguimiento avanzado"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TENANT_ID_EMPTY_ERROR"}),": El ID del tenant estaba vac\xedo o ausente"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ADVANCED_TRACKING_SERIALIZATION_ERROR"}),": Error al serializar los datos de seguimiento avanzado"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"ADVANCED_TRACKING_VALIDATION_ERROR"}),": Fallo en la validaci\xf3n de los datos de seguimiento"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"TOKENIZER_ERROR"}),": Error durante el proceso de tokenizaci\xf3n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}}}]);