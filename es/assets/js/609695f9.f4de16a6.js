"use strict";(globalThis.webpackChunksdk_mobile_doc=globalThis.webpackChunksdk_mobile_doc||[]).push([[76037],{31091(e,n,i){i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Mobile_SDK","title":"Lanzamiento simplificado","description":"\xdaltima versi\xf3n disponible","source":"@site/i18n/es/docusaurus-plugin-content-docs-android/version-2.5.X/Mobile_SDK.md","sourceDirName":".","slug":"/Mobile_SDK","permalink":"/sdk-mobile-documentation/es/docs/android/Mobile_SDK","draft":false,"unlisted":false,"tags":[],"version":"2.5.X","frontMatter":{},"sidebar":"sidebar","next":{"title":"Aplicaciones de ejemplo","permalink":"/sdk-mobile-documentation/es/docs/android/Sample_applications_use"}}');var a=i(74848),s=i(28453);const l={},o="Lanzamiento simplificado",d={},c=[{value:"\xdaltima versi\xf3n disponible",id:"\xfaltima-versi\xf3n-disponible",level:2},{value:"1. Introducci\xf3n",id:"1-introducci\xf3n",level:2},{value:"1.1. Requisitos m\xednimos",id:"11-requisitos-m\xednimos",level:3},{value:"2. Lanzamiento simplificado",id:"2-lanzamiento-simplificado",level:2},{value:"2.1. Configurar el repositorio y la dependencia base",id:"21-configurar-el-repositorio-y-la-dependencia-base",level:3},{value:"2.2. Inicializar el SDK",id:"22-inicializar-el-sdk",level:3},{value:"2.3. Iniciar operaci\xf3n",id:"23-iniciar-operaci\xf3n",level:3},{value:"2.4. Lanzamiento de los componentes",id:"24-lanzamiento-de-los-componentes",level:3},{value:"2.5. Cierre de sesi\xf3n",id:"25-cierre-de-sesi\xf3n",level:3},{value:"2.6 Seguridad",id:"26-seguridad",level:3}];function t(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"lanzamiento-simplificado",children:"Lanzamiento simplificado"})}),"\n",(0,a.jsx)(n.h2,{id:"\xfaltima-versi\xf3n-disponible",children:"\xdaltima versi\xf3n disponible"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"2.5.0\n"})}),"\n",(0,a.jsx)(n.h2,{id:"1-introducci\xf3n",children:"1. Introducci\xf3n"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"SDK Mobile"})," est\xe1 formado conjunto de librer\xedas (",(0,a.jsx)(n.strong,{children:"Componentes"}),") que ofrecen\nla posibilidad de hacer un producto a medida para cada cliente."]}),"\n",(0,a.jsx)(n.h3,{id:"11-requisitos-m\xednimos",children:"1.1. Requisitos m\xednimos"}),"\n",(0,a.jsx)(n.p,{children:"La versi\xf3n m\xednima de la SDK de Android requerida es la siguiente:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["SDK m\xednima (minSdk): ",(0,a.jsx)(n.strong,{children:"24"})]}),"\n",(0,a.jsxs)(n.li,{children:["API Version: ",(0,a.jsx)(n.strong,{children:"36"})]}),"\n",(0,a.jsxs)(n.li,{children:["Kotlin: ",(0,a.jsx)(n.strong,{children:"2.2.21"})]}),"\n",(0,a.jsxs)(n.li,{children:["Android Gradle Plugin: ",(0,a.jsx)(n.strong,{children:"8.13.1"})]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"2-lanzamiento-simplificado",children:"2. Lanzamiento simplificado"}),"\n",(0,a.jsx)(n.p,{children:"A continuaci\xf3n se describen los 5 pasos necesarios para el uso del SDK."}),"\n",(0,a.jsx)(n.h3,{id:"21-configurar-el-repositorio-y-la-dependencia-base",children:"2.1. Configurar el repositorio y la dependencia base"}),"\n",(0,a.jsxs)(n.p,{children:["Por cuestiones de seguridad y mantenimiento, los nuevos componentes de\nla ",(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.em,{children:"SDKMobile"})})," se almacenan en unos repositorios privados que\nrequieren de unas credenciales espec\xedficas para poder acceder a ellos.\nEsas ",(0,a.jsx)("u",{children:"credenciales"})," deber\xe1 obtenerlas a trav\xe9s del ",(0,a.jsx)(n.em,{children:"equipo de\nsoporte"})," de ",(0,a.jsx)(n.strong,{children:"Facephi"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Una vez obtenidas las credenciales, se deber\xe1 incluir el siguiente\nfragmento de c\xf3digo en el fichero ",(0,a.jsx)(n.strong,{children:"settings.gradle"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'mavenCentral()\nmaven {\n    Properties props = new Properties()\n    def propsFile = new File(\'local.properties\')\n    if(propsFile.exists()){\n        props.load(new FileInputStream(propsFile))\n    }\n    name="external"\n    url = uri("https://facephicorp.jfrog.io/artifactory/maven-pro-fphi")\n    credentials {\n        username = props["artifactory.user"] ?: System.getenv("USERNAME_ARTIFACTORY")\n        password = props["artifactory.token"] ?: System.getenv("TOKEN_ARTIFACTORY")\n    }\n}\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Las credenciales se incluir\xe1n en el fichero ",(0,a.jsx)(n.em,{children:"local.properties"})," con la siguiente\nestructura:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"artifactory.user=YOUR_CREDENTIALS_USERNAME\nartifactory.token=YOUR_CREDENTIALS_TOKEN\n"})}),"\n",(0,a.jsxs)(n.p,{children:["La dependencia base ",(0,a.jsx)(n.strong,{children:"obligatoria"})," para el uso del SDK es:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'implementation "com.facephi.androidsdk:sdk:$version"\n'})}),"\n",(0,a.jsx)(n.p,{children:"Para completar la funcionalidad se a\xf1adir\xe1n las dependendencias de los componentes\nque se vayan a utilizar."}),"\n",(0,a.jsx)(n.h3,{id:"22-inicializar-el-sdk",children:"2.2. Inicializar el SDK"}),"\n",(0,a.jsx)(n.p,{children:"El SDK funciona a trav\xe9s de un controlador principal (SDKController) que\ndebe inicializarse correctamente para poder hacer uso del resto de\nfuncionalidad. El equipo de Facephi facilitar\xe1 el apiKey de la licencia\npara poder incluirlo en el proyecto."}),"\n",(0,a.jsx)(n.p,{children:"C\xf3digo de inicializaci\xf3n:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'val sdkConfig = SdkConfigurationData(\n    sdkApplication = SdkApplication(application),\n    licensing = LicensingOnline(EnvironmentLicensingData(\n            apiKey = "...")\n      )),\n)\n\nval result = SDKController.initSdk(sdkConfig)\n\nwhen (result) {\n  is SdkResult.Success -> Log.d("APP: INIT SDK: OK")\n  is SdkResult.Error -> Log.d(\n          "APP: INIT SDK: KO - ${result.error.name}"\n        )\n}\n\nif (BuildConfig.DEBUG) {\n    SDKController.enableDebugMode()\n}\n'})}),"\n",(0,a.jsx)(n.h3,{id:"23-iniciar-operaci\xf3n",children:"2.3. Iniciar operaci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"Siempre se debe iniciar una operaci\xf3n para que se pueda lanzar el proceso."}),"\n",(0,a.jsx)(n.p,{children:"Este m\xe9todo tiene 3 par\xe1metros de entrada:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"operationType"}),": Indica si se va a hacer un proceso de ONBOARDING\no de AUTHENTICATION."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"customerId"}),": Identificador del usuario (controlado a nivel\nde aplicaci\xf3n)."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"steps"}),": Lista de pasos de la operaci\xf3n si se han definido\npreviamente."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'val result = SDKController.newOperation(\n        operationType = OperationType.ONBOARDING,\n        customerId = "customer_id",\n        steps = listOf(Step.SELPHI_COMPONENT, Step.SELPHID_COMPONENT))\nwhen (result) {\n    is SdkResult.Success -> {\n        Timber.d("APP: NEW OPERATION OK")\n    }\n    is SdkResult.Error -> {\n        Timber.d("APP: NEW OPERATION ERROR: ${result.error.name}")\n    }\n}\n'})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Si la creaci\xf3n de una nueva operaci\xf3n devuelve un error del tipo ",(0,a.jsx)(n.strong,{children:"INTERNAL_ERROR"})," se debe\nprincipalmente a un problema de seguridad. Para poder investigar la causa, es posible recuperar\nel token asociado al error, el cual proporciona informaci\xf3n adicional para su an\xe1lisis."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"if (result.error is SdkError.INTERNAL_ERROR){\n val token = (result.error as SdkError.INTERNAL_ERROR).error\n}\n"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"24-lanzamiento-de-los-componentes",children:"2.4. Lanzamiento de los componentes"}),"\n",(0,a.jsx)(n.p,{children:"La funcionalidad del SDK nace de la combinaci\xf3n de los diferentes componentes. Cada componente tiene sus propios controladores que se \u201clanzar\xe1n\u201d desde el\nSDKController."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"val result = SDKController.launch(ExampleController(ConfigurationData()))\nwhen (result) {\n    is SdkResult.Success -> {\n        //Result OK\n        it.data\n    }\n    is SdkResult.Error -> {\n        //Result KO\n        it.error.name\n    }\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"Se detalla el lanzamiento de cada funcionalidad en su apartado de la documentaci\xf3n:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Tracking_Component",children:"Conexi\xf3n con plataforma"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Selphi_Component",children:"Captura facial"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./SelphID_Component",children:"Captura de documentos"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Voice_Component",children:"Captura de voz"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./NFC_Component",children:"Captura de NFC"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Phingers_Component",children:"Captura de huellas"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Video_Call_Component",children:"Videollamada"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Video_Id_Component",children:"V\xeddeo identificaci\xf3n"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Video_Recording_Component",children:"V\xeddeo grabaci\xf3n"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:'Para el caso del lanzamiento continuo o "flow":'}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"./Flow_Component",children:"Flow"})}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"25-cierre-de-sesi\xf3n",children:"2.5. Cierre de sesi\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"Antes de finalizar la aplicaci\xf3n se debe cerrar la sesi\xf3n del SDK:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"SDKController.closeSession()\n"})}),"\n",(0,a.jsx)(n.h3,{id:"26-seguridad",children:"2.6 Seguridad"}),"\n",(0,a.jsx)(n.p,{children:"El SDK de Android incorpora un sistema de seguridad destinado a detectar y bloquear entornos potencialmente poco fiables o que puedan indicar intentos de ataque."}),"\n",(0,a.jsx)(n.p,{children:"Este mecanismo est\xe1 habilitado por defecto, permite identificar situaciones que podr\xedan comprometer la seguridad y previene la ejecuci\xf3n del SDK en contextos que no se consideran seguros:"}),"\n",(0,a.jsx)(n.p,{children:"\u200b```java\nSDKController.securityMode(enable: Boolean)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var r=i(96540);const a={},s=r.createContext(a);function l(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);