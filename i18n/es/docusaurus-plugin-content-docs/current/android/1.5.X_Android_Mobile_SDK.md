# \[1.5.X\]\[ES\] Android Mobile SDK

Este documento hace referencia a la versi√≥n 1.5.X del Android Mobile SDK

- [1.
  Introducci√≥n](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-1.Introducci√≥n)
  - [1.1. Requisitos
    m√≠nimos](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-1.1.Requisitosm√≠nimos)
- [2. Integraci√≥n
  inicial](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-2.Integraci√≥ninicial)
  - [2.1. A√±adir repositorio
    privado](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-2.1.A√±adirrepositorioprivado)
  - [2.2. Dependencias requeridas para la integraci√≥n
    b√°sica](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-2.2.Dependenciasrequeridasparalaintegraci√≥nb√°sica)
- [3. Inicializaci√≥n del
  SDK](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-3.Inicializaci√≥ndelSDK)
  - [3.1. Inyecci√≥n de
    licencias](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-3.1.Inyecci√≥ndelicencias)
    - [a. Obteniendo la licencia a trav√©s de un
      servicio](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-a.Obteniendolalicenciaatrav√©sdeunservicio)
    - [b. Inyectando la licencia como
      String](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-b.InyectandolalicenciacomoString)
- [4. Iniciar nueva
  operaci√≥n](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-4.Iniciarnuevaoperaci√≥n)
  - [4.1 Tipos de operaci√≥n
    existentes](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-4.1Tiposdeoperaci√≥nexistentes)
- [5. Lanzamiento de
  componentes](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-5.Lanzamientodecomponentes)
- [6. Retorno de
  resultado](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-6.Retornoderesultado)
- [7. Cierre de
  sesi√≥n](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-7.Cierredesesi√≥n)
- [8. Controladores
  auxiliares](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.Controladoresauxiliares)
  - [8.1 Obtenci√≥n del
    OperationId](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.1Obtenci√≥ndelOperationId)
  - [8.2 Obtenci√≥n del
    OperationType](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.2Obtenci√≥ndelOperationType)
  - [8.3 Obtenci√≥n del
    SessionId](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.3Obtenci√≥ndelSessionId)
  - [8.4 Obtenci√≥n del
    CustomerID](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.4Obtenci√≥ndelCustomerID)
  - [8.5 Asignaci√≥n del
    CustomerID](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-8.5Asignaci√≥ndelCustomerID)
- [9. Opciones de depuraci√≥n y control de
  errores](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-9.Opcionesdedepuraci√≥nycontroldeerrores)
  - [9.1. Control de errores en las conexiones de Tracking con la
    plataforma](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-9.1.ControldeerroresenlasconexionesdeTrackingconlaplataforma)
  - [9.2. Activaci√≥n de Logs de depuraci√≥n
    general](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-9.2.Activaci√≥ndeLogsdedepuraci√≥ngeneral)
- [10. Personalizaci√≥n de la
  SDK](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-10.Personalizaci√≥ndelaSDK)
  - [10.1. Colores, logo y
    animaciones](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-10.1.Colores,logoyanimaciones)
  - [10.2.
    Textos](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-10.2.Textos)
  - [10.3.
    Fuente](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-10.3.Fuente)
  - [10.4.
    Botones](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-10.4.Botones)
- [11. FAQ - Frequently Asked
  Questions](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-11.FAQ-FrequentlyAskedQuestions)
- [12.
  Changelog](#id-%5B1.5.X%5D%5BES%5DAndroidMobileSDK-12.Changelog)

## 1. Introducci√≥n

**SDK Mobile** es un conjunto de librer√≠as (**Componentes**) que ofrece
una serie de funcionalidades y servicios, permitiendo a su vez su
integraci√≥n en una aplicaci√≥n Mobile de forma sencilla y totalmente
escalable. Dependiendo del caso de uso que se requiera, se deber√°
realizar la instalaci√≥n de unos determinados componentes. Su alto nivel
de modularidad permite que, en un futuro, se puedan a√±adir otros
componentes nuevos sin afectar en absoluto a los ya integrados en el
proyecto.

### 1.1. Requisitos m√≠nimos

La versi√≥n m√≠nima de la SDK de Android requerida es la siguiente:

- SDK m√≠nima (minSdk): **23**

- API Version: **34**

- Kotlin: **1.9.10**

- Plugin Gradle Android: **8.1.1**

- Kotlin compiler version: **1.5.3**

---

## 2. Integraci√≥n inicial

En esta secci√≥n se explicar√° paso a paso c√≥mo integrar los componentes
b√°sicos en un proyecto ya existente.

### 2.1. A√±adir repositorio privado

Por cuestiones de seguridad y mantenimiento, los nuevos componentes de
la **_SDKMobile_** se almacenan en unos repositorios privados que
requieren de unas credenciales espec√≠ficas para poder acceder a ellos.
Esas <u>credenciales</u> deber√° obtenerlas a trav√©s del _equipo de
soporte_ de **Facephi**.

Una vez obtenidas las credenciales, se deber√° incluir el siguiente
fragmento de c√≥digo para configurar el repositorio maven en el
**Gradle** de tu proyecto, o en el fichero **settings.gradle** del
mismo. Se recomienda incluirlo tras _mavenCentral()_

```java
maven {
    Properties props = new Properties()
    def propsFile = new File('local.properties')
    if(propsFile.exists()){
        props.load(new FileInputStream(propsFile))
    }
    name="external"
    url = uri("https://facephicorp.jfrog.io/artifactory/maven-pro-fphi")
    credentials {
        username = props["artifactory.user"] ?: System.getenv("USERNAME_ARTIFACTORY")
        password = props["artifactory.token"] ?: System.getenv("TOKEN_ARTIFACTORY")
    }
}
```

Para que el proyecto recupere correctamente las dependencias, se deber√°
tener las credenciales (Usuario y Token) configuradas correctamente

Hay varias formas de configurar las credenciales de acceso al
repositorio:

- Como variables de entorno con el siguiente nombre. Por ejemplo:

  ```java
  export USERNAME_ARTIFACTORY=YOUR_CREDENTIALS_USERNAME
  export TOKEN_ARTIFACTORY=YOUR_CREDENTIALS_TOKEN
  ```

  **Si las dependencia no las reconoce al sincronizar**, se deben
  incluir a trav√©s de variables de entorno en el archivo:

`~/.zshrc`

- Incluidos en el fichero _local.properties_ con la siguiente
  estructura:

  ```java
  artifactory.user=YOUR_CREDENTIALS_USERNAME
  artifactory.token=YOUR_CREDENTIALS_TOKEN
  ```

### 2.2. **Dependencias requeridas para la integraci√≥n b√°sica**

Para evitar conflictos y problemas de compatibilidad, en caso de querer
instalar el componente en un proyecto que contenga una versi√≥n antigua
de las librer√≠as de Facephi (_Widgets_), √©stos deber√°n eliminarse por
completo antes de la instalaci√≥n de los componentes de la
**_SDKMobile_**.

Actualmente las librer√≠as de FacePhi se distribuyen de forma remota a
trav√©s de diferentes gestores de dependencias.

Las dependencias base **obligatorias** para el uso del SDK son:

```java
implementation "com.facephi.androidsdk:sdk:$sdk_version"
implementation "com.facephi.androidsdk:core:$core_version"
```

---

## 3. Inicializaci√≥n del SDK

**Debe evitarse inicializar un controlador que no vaya a usarse**.

El SDK funciona a trav√©s de un controlador principal (SDKController) que
debe inicializarse correctamente para poder hacer uso del resto de
funcionalidad. Los pasos a seguir en la inicializaci√≥n son:

1.  Incluir el objeto Application a trav√©s de la clase SdkApplication.

2.  Decidir si la licencia se incluir√° a trav√©s de un _String_ o con un
    _servicio de licenciamiento remoto_ (consultar **apartado 3.1**).

3.  El controlador _TrackingController_ en caso de querer conectar con
    la plataforma.

El **punto 3** es opcional, y requerir√≠a usar el componente de Tracking
(m√°s informaci√≥n acerca de este m√≥dulo en su propia documentaci√≥n).

Un ejemplo de inicializaci√≥n sin _TrackingController_ ser√≠a el
siguiente:

```java
SDKController.initSdk(
    sdkApplication = SdkApplication(application),
    license = "LICENSE"
    ) {
        when (it) {
            is SdkResult.Success -> Napier.d("APP: INIT SDK: OK")
            is SdkResult.Error -> Napier.d(
                    "APP: INIT SDK: KO - ${it.error}"
                  )
          }
 })

```

Un ejemplo de inicializaci√≥n con _TrackingController_ ser√≠a el
siguiente:

```java
SDKController.initSdk(
    sdkApplication = SdkApplication(application),
    license = "LICENSE",
    trackingController = TrackingController()
    ) {
        when (it) {
            is SdkResult.Success -> Napier.d("APP: INIT SDK: OK")
            is SdkResult.Error -> Napier.d(
                    "APP: INIT SDK: KO - ${it.error}"
                  )
          }
 })

```

### 3.1. **Inyecci√≥n de licencias**

Como se ha comentado previamente, actualmente existen dos formas de
inyectar la licencia:

#### a. **Obteniendo la licencia a trav√©s de un servicio**

A trav√©s de un servicio que simplemente requerir√° una URL y un API-KEY
como identificador. Esto evitar√≠a problemas a la hora de manipular la
licencia, as√≠ como la constante sustituci√≥n de dichas licencias a la
hora de surgir alg√∫n problema con ella (malformaci√≥n o modificaci√≥n
indebida, expiraci√≥n de la licencia...)

Ejemplo de implementaci√≥n en Kotlin:

```java
SDKController.initSdk(
      sdkApplication = SdkApplication(application),
      environmentLicensingData = EnvironmentLicensingData(
            url = "https://...",
            apiKey = "...")
      ) {
        when (it) {
            is SdkResult.Success -> Napier.d("APP: INIT SDK: OK")
            is SdkResult.Error -> Napier.d(
                  "APP: INIT SDK: KO - ${it.error}"
                  )
        }
 })
```

Ejemplo de implementaci√≥n en Java:

```java
SDKController.INSTANCE.initSdk(
        new SdkApplication(activity.getApplication()),
        new EnvironmentLicensingData(
          url = "https://...",
          apiKey = "..."),
        sdkResult ->
        {
          if (sdkResult instanceof SdkResult.Success) {
            Napier.d("APP: INIT SDK: OK")
          } else if (sdkResult instanceof SdkResult.Error) {
            Napier.d("APP: INIT SDK: KO - ${it.error}")
          }
        }
      );
```

#### b. **Inyectando la licencia como String**

Se puede asignar la licencia directamente como un String, de la
siguiente manera:

Ejemplo de implementaci√≥n en Kotlin:

```java
SDKController.initSdk(
      sdkApplication = SdkApplication(application),
      license = "LICENSE"
      ) {
        when (it) {
            is SdkResult.Success -> Napier.d("APP: INIT SDK: OK")
            is SdkResult.Error -> Napier.d(
                    "APP: INIT SDK: KO - ${it.error}"
                  )
          }
 })
```

Ejemplo de implementaci√≥n en Java:

```java
SDKController.INSTANCE.initSdk(
        new SdkApplication(activity.getApplication()),
        "LICENSE",
        sdkResult ->
        {
          if (sdkResult instanceof SdkResult.Success) {
            Timber.d("APP: INIT SDK: OK")
          } else if (sdkResult instanceof SdkResult.Error) {
            Timber.d("APP: INIT SDK: KO - ${it.error}")
          }
        }
      );

```

---

## 4. Iniciar nueva operaci√≥n

Cada vez que se desee iniciar el flujo de alguna operaci√≥n nueva
(ejemplos de operaciones ser√≠an: _onboarding, authentication,
videoCall_,...) es esencial indicarle al **SDKController** que √©sta va a
comenzar, y as√≠ la SDK sabr√° que las pr√≥ximas llamadas de
**Componentes** (tambi√©n llamados **Steps**) formar√°n parte de dicha
operaci√≥n.

Al iniciar un proceso o flujo, **siempre** se deber√° realizar la llamada
al m√©todo **newOperation**

Este m√©todo tiene 3 par√°metros de entrada:

1.  **operationType**: Indica si se va a hacer un proceso de ONBOARDING
    o de AUTHENTICATION 2.

2.  **customerId**: Id √∫nico del usuario si se tiene (controlado a nivel
    de aplicaci√≥n)

    1.  Este par√°metro aparecer√° reflejado para cada operaci√≥n en la
        plataforma.

3.  **steps**: Lista de pasos de la operaci√≥n si se han definido
    previamente

Hay 2 maneras de realizar este inicio de operaci√≥n, dependiendo de si
**se conocen los pasos** que formar√°n el flujo del proceso de registro o
autenticaci√≥n (en caso de que los componentes se ejecuten de forma
secuencial y siempre de la misma forma) o, en caso contrario, de que el
flujo **no est√© definido** y sea desconocido (por ejemplo, el cliente
final es el que decide el orden de ejecuci√≥n de los componentes).

- Flujo **conocido** (aparecer√° la operaci√≥n _trackeada_ en la
  plataforma con todos los pasos de la lista). Ejemplo de
  implementaci√≥n Kotlin:

```java
SDKController.newOperation(
        operationType = OperationType.ONBOARDING,
        customerId = "customer_id",
        steps = listOf(Step.SELPHI_COMPONENT, Step.SELPHID_COMPONENT)
        ){
        when (it) {
                    is SdkResult.Success -> {
                        Timber.d("APP: NEW OPERATION OK")
                    }
                    is SdkResult.Error -> {
                        Timber.d("APP: NEW OPERATION ERROR: ${it.error}")
                    }
                }
        }
```

Ejemplo de implementaci√≥n Java:

```java
 SDKController.INSTANCE.newOperation(
        OperationType.ONBOARDING,
        "customer_id",
        [Step.SELPHI_COMPONENT, Step.SELPHID_COMPONENT]
        ){
          if (sdkResult instanceof SdkResult.Success) {
            Napier.d("APP: NEW OPERATION: OK")
          } else if (sdkResult instanceof SdkResult.Error) {
            Napier.d("APP: NEW OPERATION: KO - ${it.error}")
          }
        }
  );
```

- Flujo **desconocido** (aparecer√° la operaci√≥n _trackeada_ en la
  plataforma con puntos suspensivos). Ejemplo de implementaci√≥n
  Kotlin:

```java
SDKController.newOperation(
        operationType = OperationType.ONBOARDING,
        customerId = "customer_id",
        ){
        when (it) {
                    is SdkResult.Success -> {
                        Timber.d("APP: NEW OPERATION OK")
                    }
                    is SdkResult.Error -> {
                        Timber.d("APP: NEW OPERATION ERROR: ${it.error}")
                    }
                }
        }
```

Ejemplo de implementaci√≥n Java:

```java
 SDKController.INSTANCE.newOperation(
        OperationType.ONBOARDING,
        "customer_id"
        ){
          if (sdkResult instanceof SdkResult.Success) {
            Napier.d("APP: NEW OPERATION: OK")
          } else if (sdkResult instanceof SdkResult.Error) {
            Napier.d("APP: NEW OPERATION: KO - ${it.error}")
          }
        }
  );
```

`sdkResult` ‚Üí Contiene en data la informaci√≥n de la operaci√≥n creada.

**Una vez creada la operaci√≥n** se podr√°n ejecutar los componentes de la
SDK asociados a esta operaci√≥n. Consultar la documentaci√≥n espec√≠fica de
cada componente para saber c√≥mo hacerlo.

### 4.1 **Tipos de operaci√≥n existentes**

En la actualidad, existen las siguientes operaciones, durante las cuales
se hacen uso de unos determinados **Componentes (STEPS).**

A continuaci√≥n se muestra una tabla con la relaci√≥n entre _operaciones_
y _steps_:

<table class="confluenceTable" data-table-width="760"
data-layout="default"
data-local-id="32fbe475-2014-4d4d-91f8-be4e77260ea5">
<tbody>
<tr class="header">
<th class="confluenceTh"><p><strong>Operaci√≥n
(</strong><em><strong>OperationType</strong></em><strong>)</strong></p></th>
<th class="confluenceTh"><p><strong>Componente
(</strong><em><strong>Step</strong></em><strong>)</strong></p></th>
<th class="confluenceTh"><p><strong>Descripci√≥n</strong></p></th>
</tr>
&#10;<tr class="odd">
<td class="confluenceTd"><p>ONBOARDING</p></td>
<td class="confluenceTd"><ul>
<li><p>SELPHI_COMPONENT</p></li>
<li><p>SELPHID_COMPONENT</p></li>
</ul></td>
<td class="confluenceTd"><ul>
<li><p>Validaci√≥n facial de un selfie contra la cara de un
docuento</p></li>
<li><p>Extracci√≥n del OCR del documento</p></li>
<li><p>Detecci√≥n de vivacidad</p></li>
</ul></td>
</tr>
<tr class="even">
<td class="confluenceTd"><p>AUTHENTICATION</p></td>
<td class="confluenceTd"><ul>
<li><p>SELPHI_COMPONENT</p></li>
</ul></td>
<td class="confluenceTd"><ul>
<li><p>Validaci√≥n facial mediante plantillas</p></li>
<li><p>Detecci√≥n de vivacidad</p></li>
</ul></td>
</tr>
</tbody>
</table>

Esta lista se ir√° ampliando en pr√≥ximas actualizaciones de la SDK, seg√∫n
vayan apareciendo nuevos componentes y casos de uso.

---

## 5. Lanzamiento de componentes

La funcionalidad del SDK se divide en diferentes componentes con
controladores particulares. Estos controladores se ‚Äúlanzar√°n‚Äù desde el
controlador general.

Una vez creada la **nueva operaci√≥n** (**apartado 4**), se podr√°n lanzar
los diferentes controladores de la SDK. Para consultar esta informaci√≥n
se deber√° acceder a la **documentaci√≥n de cada uno de los componentes
espec√≠ficos**.

Ejemplo de lanzamiento Kotlin:

```java
SDKController.launch(
    XController(ConfigurationData()) {
        when (it) {
            is SdkResult.Success -> {
                //Result OK
                it.data
            }
            is SdkResult.Error -> {
                //Result KO
                it.error.name
            }
        }
    }
)
```

Ejemplo de lanzamiento Java:

```java
SDKController.INSTANCE.launch(
    new XController(new ConfigurationData()) {
        if (sdkResult instanceof SdkResult.Success) {
            //Result OK
            it.data
          } else if (sdkResult instanceof SdkResult.Error) {
            //Result KO
            it.error.name
          }
    }
)
```

---

## 6. Retorno de resultado

El resultado de cada componente ser√° devuelto a trav√©s de la SDK
manteniendo siempre la misma estructura a trav√©s de la clase
**_SdkResult_** cuya clase es una Sealed Class que puede tener 2
posibles estados:

- SdkResult.Success: Indica que la operaci√≥n ha finalizado
  correctamete y en su interior tiene:

  - **_data:_** Contiene el tipo de dato que sea necesario seg√∫n el
    proceso/componente lanzado.

- SdkResult.Error

  - **_error:_** Contiene el tipo de error que sea necesario seg√∫n
    el proceso/componente lanzado.

En la documentaci√≥n de cada componente espec√≠fico se desglosar√°n los
diferentes campos que puede devolver este objeto

Ejemplo de uso:

```java
when (it) {
    is SdkResult.Success -> {
        Napier.d("Selphi: OK")
        // SelphiResult:
        // it.data.bestImageBmp
    }

    is SdkResult.Error -> Napier.d("Selphi: KO - ${it.error.name}")
}
```

---

## 7. Cierre de sesi√≥n

**Antes de que la aplicaci√≥n se vaya a destruir**, se deber√° cerrar la
sesi√≥n de la SDK para as√≠ avisar a la plataforma de su finalizaci√≥n.
Para ello, se ejecuta la siguiente l√≠nea de c√≥digo:

```java
SDKController.closeSession()
```

Si se realiza un cierre de sesi√≥n, no se van a poder lanzar
controladores hasta que se vuelva a iniciar una nueva operaci√≥n.

---

## 8. Controladores auxiliares

En este apartado se incluyen otros controladores y operaciones
auxiliares, algunos de ellos opcionales, y que pueden ser necesarios
para la correcta finalizaci√≥n del flujo.

Estos campos son necesarios para la comunicaci√≥n con el servicio de
**Facephi**, en caso de querer realizar cualquier **verificaci√≥n** y de
desear realizar el _tracking_ de una operaci√≥n determinada.

### 8.1 Obtenci√≥n del OperationId

```java
SDKController.launchMethod(
    GetOperationIdController {
        Napier.d("Operation ID ${it})
    }
)
```

### 8.2 Obtenci√≥n del OperationType

```java
SDKController.launchMethod(
    GetOperationTypeController {
        Napier.d("Operation type ${it})
    }
)
```

### 8.3 Obtenci√≥n del SessionId

```java
SDKController.launchMethod(
    GetSessionIdController {
        Napier.d("Session ID ${it})
    }
)
```

### 8.4 Obtenci√≥n del CustomerID

```java
SDKController.launchMethod(
    GetCustomerIdController {
        Napier.d("Customer ID ${it})
    }
)
```

### 8.5 Asignaci√≥n del CustomerID

```java
SDKController.launchMethod(
    CustomerIdController("CustomerId")
)
```

---

## 9. Opciones de depuraci√≥n y control de errores

Existen ciertas opciones en el SDK que permiten un aumento en los logs
de depuraci√≥n para poder comprobar que todo funciona de manera correcta.

### 9.1. Control de errores en las conexiones de Tracking con la plataforma

Una vez el SDK se haya iniciado correctamente, se pueden aplicar ciertos
ajustes para tener una mayor informaci√≥n acerca de los posibles errores
en tracking, se puede realizar un seguimiento a trav√©s de este
lanzamiento de controlador:

```java
SDKController.launch(TrackingErrorController {
    Napier.d("Tracking Error: ${it.name}")
})
```

### 9.2. Activaci√≥n de Logs de depuraci√≥n general

```java
SDKController.enableDebugMode()
```

---

## 10. Personalizaci√≥n de la SDK

Esta versi√≥n de la SDK permite modificar algunas caracter√≠sticas
visuales de los componentes. A continuaci√≥n se indican los posibles
cambios que se pueden realizar.

Se recomienda agregar las modificaciones tanto en el tema **claro** como
**oscuro** (night).

### 10.1. **Colores, logo y animaciones**

Para cambiar los colores y el logo del SDK habr√≠a que incluir un fichero
XML en la aplicaci√≥n del cliente (por ejemplo **_sdk_styles.xml_**)
cambiando el valor _hex_ (RGB) de cada color principal:

```java
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- SdkTheme -->
    <color name="sdkPrimaryColor">#7636FC</color>
    <color name="sdkSecondaryColor">#03DAC5</color>
    <color name="sdkBackgroundColor">#FFFFFF</color>
    <color name="sdkErrorColor">#DD3631</color>
    <!-- SdkColorsPalette -->
    <color name="sdkTitleTextColor">#1D2C4D</color>
    <color name="sdkBodyTextColor">#526080</color>
    <color name="sdkSuccessColor">#07A13A</color>
    <color name="sdkNeutralColor">#202C4B</color>
    <color name="sdkAccentColor">#EA7547</color>
    <color name="sdkTopIconsColor">#243760</color>
    <!-- SDK BUTTONS -->
    <dimen name="sdk_buttons_corner_dimen">32dp</dimen>
    <!-- SDK LOGO -->
    <drawable name="sdk_logo">@drawable/ic_demo_logo</drawable>

  <!-- ..Add particulars of each component... -->

</resources>
```

Para modificar el **logo** visible en los diferentes componentes del sdk
bastar√° con incluir en el fichero la siguiente l√≠nea incluyendo el
nombre del logo de la aplicaci√≥n cliente:

```java
<!-- SDK LOGO -->
<drawable name="sdk_logo">@drawable/logo_name</drawable>
```

Las animaciones aplican estilos (citados anteriormente) seg√∫n los 5
colores fundamentales:

```java
sdkPrimaryColor
sdkErrorColor
sdkSuccessColor
sdkNeutralColor
sdkAccentColor
```

Si se cambia cualquiera de ellos se ver√°n afectadas las animaciones de
los componentes.

Los componentes de Selphi y SelphID lleva su zip de recursos asociados
que se mantiene ajeno a esta caracter√≠stica del SDK.

### 10.2. **Textos**

Si se desea modificar los textos de la SDK habr√≠a que incluir el
siguiente fichero XML en la aplicaci√≥n del cliente, y modificar el valor
de cada _String_ por el deseado.

```java
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- GENERAL -->
    <string name="sdk_permissions_exit_alert_title">Permission denied</string>
    <string name="sdk_permissions_exit_alert_question">In order to continue, you need to </string>
    <string name="sdk_permissions_exit_alert_question_other">allow access to the permission needed.</string>
    <string name="sdk_permissions_exit_alert_question_camera">allow access to the camera.</string>
    <string name="sdk_permissions_exit_alert_question_microphone">allow access to the microphone.</string>
    <string name="sdk_permissions_exit_alert_confirm">Retry</string>
    <string name="sdk_permissions_exit_alert_confirm_settings">Go to settings</string>
    <string name="sdk_exit_alert_title">Finish the process</string>
    <string name="sdk_exit_alert_question">Do you want to finish the process?</string>
    <string name="sdk_exit_alert_exit">Finish</string>
    <string name="sdk_exit_alert_cancel">Cancel</string>
    <string name="sdk_exit_finish_exit">Finish</string>
    <string name="sdk_text_video_error">An error has occurred with the connection to the video. Please try again.</string>
    <string name="sdk_text_socket_error">An error has occurred with the connection to the server. Please try again.</string>
    <string name="sdk_text_data_error">An error has occurred with the system configuration. Please try again.</string>
    <string name="sdk_text_timeout_error">Sorry, the operation has timed out. Please try again later.</string>
    <string name="sdk_network_connection_error_title">Connection error</string>
    <string name="sdk_network_connection_error_desc">Check your internet connection</string>
    <string name="sdk_network_connection_error_button">Exit</string>
    <string name="sdk_close">Close process</string>
    <string name="sdk_info">Show tutorial</string>
    <string name="sdk_previous_page">Previous page</string>
    <string name="sdk_next_page">Next page</string>
    <string name="sdk_image_captured">Image captured</string>
    <string name="sdk_confirmation_retry">Retry</string>
    <string name="sdk_confirmation_continue">Continue</string>
    <string name="sdk_skip">SKIP</string>

  <!-- ..Add particulars of each component... -->


</resources>
```

### 10.3. **Fuente**

Para modificar la fuente, se agregar√°n los ficheros .ttf a la carpeta
_font_ de la aplicaci√≥n y renombr√°ndolos como aparecen en la imagen:

<img src="attachments/2605285492/2605613108.png" class="image-center"
loading="lazy" data-image-src="attachments/2605285492/2605613108.png"
data-height="111" data-width="387" data-unresolved-comment-count="0"
data-linked-resource-id="2605613108" data-linked-resource-version="1"
data-linked-resource-type="attachment"
data-linked-resource-default-alias="d886b449-da3f-4670-8f44-19f13fcb3d48.png"
data-base-url="https://facephicorporative.atlassian.net/wiki"
data-linked-resource-content-type="image/png"
data-linked-resource-container-id="2605285492"
data-linked-resource-container-version="11"
data-media-id="f7231871-99fb-4440-be29-5a23db3ad712"
data-media-type="file" />

### 10.4. **Botones**

En caso de desear cambiar la forma de los botones del SDK habr√≠a que
incluir esta l√≠nea en el fichero XML de estilos del SDK cambiando el
valor _dp_ de la variable _dimen_:

```java
<?xml version="1.0" encoding="utf-8"?>
<resources>
    <dimen name="sdk_buttons_corner_dimen">5dp</dimen>
</resources>
```

---

## 11. FAQ - Frequently Asked Questions

<table class="confluenceTable" data-table-width="760"
data-layout="default"
data-local-id="6d76e498-8c25-4cff-91a8-8d96ddb5d79f">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="header">
<th class="confluenceTh"><p><img
src="images/icons/emoticons/lightbulb_on.png"
class="emoticon emoticon-light-on"
data-emoji-id="atlassian-light_bulb_on"
data-emoji-shortname=":light_bulb_on:"
data-emoji-fallback=":light_bulb_on:" data-emoticon-name="light-on"
width="16" height="16" alt="(bombilla)" />
<strong>Pregunta</strong></p></th>
<th class="confluenceTh"><p><img
src="images/icons/emoticons/thumbs_up.png"
class="emoticon emoticon-thumbs-up" data-emoji-id="1f44d"
data-emoji-shortname=":thumbsup:" data-emoji-fallback="üëç"
data-emoticon-name="thumbs-up" width="16" height="16"
alt="(pulgar hacia arriba)" /> <strong>Respuesta</strong></p></th>
</tr>
&#10;<tr class="odd">
<td class="confluenceTd"><p>Al realizar la sincronizaci√≥n del proyecto,
no resuelve las dependencias y aparece un 403 en los
componentes</p></td>
<td class="confluenceTd"><ul>
<li><p>Revisa, la conexi√≥n del dispositivo.</p></li>
<li><p>Revisa si has configurado correctamente el TOKEN y USUARIO del
repositorio de Facephi en gradle</p></li>
<li><p>Revisa la versi√≥n de los componentes integrados</p></li>
<li><p>Realiza un <em><strong>Invalidate Cache &amp;
Restart</strong></em></p></li>
<li><p>Prueba de nuevo</p></li>
</ul></td>
</tr>
<tr class="even">
<td class="confluenceTd"></td>
<td class="confluenceTd"></td>
</tr>
</tbody>
</table>

<img src="images/icons/emoticons/72/2709.png"
class="emoticon emoticon-blue-star" data-emoji-id="2709"
data-emoji-shortname=":envelope:" data-emoji-fallback="‚úâÔ∏è"
data-emoticon-name="blue-star" width="16" height="16"
alt="(estrella azul)" /> Si surge alg√∫n otro problema, contacta con el
equipo de soporte para que podamos ayudarte.

## 12. Changelog

<table class="confluenceTable" data-table-width="760"
data-layout="default"
data-local-id="462701a6-639a-4469-b9cc-479fa10c3365">
<tbody>
<tr class="header">
<th class="confluenceTh"><p><strong>Versi√≥n</strong></p></th>
<th class="confluenceTh"><p><strong>Cambios</strong></p></th>
</tr>
&#10;<tr class="odd">
<td class="confluenceTd"><p>1.5.1</p></td>
<td class="confluenceTd"><ul>
<li><p>General</p>
<ul>
<li><p>Mejoras y correcci√≥n de errores</p></li>
</ul></li>
<li><p>Voz</p>
<ul>
<li><p>Actualizaci√≥n de librer√≠a interna</p></li>
<li><p>Ajustes de calibraci√≥n</p></li>
<li><p>Devoluci√≥n de audios tokenizados</p></li>
</ul></li>
<li><p>Phingers</p>
<ul>
<li><p>Tracking de WSQ</p></li>
</ul></li>
<li><p>Behavior</p>
<ul>
<li><p>Actualizaci√≥n de librer√≠a interna</p></li>
<li><p>Mejoras y correcciones</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="even">
<td class="confluenceTd"><p>1.5.0</p></td>
<td class="confluenceTd"><ul>
<li><p>Soportada API 34 (Android 14)</p></li>
<li><p>Actualizados los plugin de gradle de Android (8.1.1)</p></li>
<li><p>Actualizada la versi√≥n de kotlin usada (1.9.10)</p></li>
<li><p>Ajustes de datos entrada de componentes de Video</p></li>
<li><p>Mejora en el SdkResult como sealed class</p></li>
<li><p>Nomenclatura de los Steps de entrada de NewOperation</p></li>
</ul></td>
</tr>
</tbody>
</table>

## Attachments:

<img src="images/icons/bullet_blue.gif" width="8" height="8" />
[d886b449-da3f-4670-8f44-19f13fcb3d48.png](attachments/2605285492/2605613108.png)
(image/png)
