"use strict";(self.webpackChunksdk_mobile_doc=self.webpackChunksdk_mobile_doc||[]).push([[291],{4522:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var t=i(4848),o=i(8453);const s={},r="VideoCall Component",l={id:"Video_Call_Component",title:"VideoCall Component",description:"1. Introducci\xf3n",source:"@site/docs/ios/Video_Call_Component.md",sourceDirName:".",slug:"/Video_Call_Component",permalink:"/sdk-mobile-documentation/docs/ios/Video_Call_Component",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"NFC_Component",permalink:"/sdk-mobile-documentation/docs/ios/NFC_Component"},next:{title:"Video Id Component",permalink:"/sdk-mobile-documentation/docs/ios/Video_Id_Component"}},a={},c=[{value:"1. Introducci\xf3n",id:"1-introducci\xf3n",level:2},{value:"1.1 Minimum requirements",id:"11-minimum-requirements",level:3},{value:"2. Component integration",id:"2-component-integration",level:2},{value:"2.1. Dependencies required for integration",id:"21-dependencies-required-for-integration",level:3},{value:"Cocoapods",id:"cocoapods",level:4},{value:"2.2 Permissions and configurations",id:"22-permissions-and-configurations",level:3},{value:"3. Start new operation",id:"3-start-new-operation",level:2},{value:"4. Use of the component",id:"4-use-of-the-component",level:2},{value:"5. Receipt of the result",id:"5-receipt-of-the-result",level:2},{value:"5.1. Receiving errors",id:"51-receiving-errors",level:3},{value:"6. Component customization",id:"6-component-customization",level:2},{value:"6.1 Texts",id:"61-texts",level:3},{value:"6.2 Colors",id:"62-colors",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"videocall-component",children:"VideoCall Component"}),"\n",(0,t.jsx)(n.h2,{id:"1-introducci\xf3n",children:"1. Introducci\xf3n"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"SDK Mobile"})," is a set of libraries (",(0,t.jsx)(n.strong,{children:"Components"}),") that provides a set of functionalities and services\na series of functionalities and services, allowing its integration in a Mobile application in a\nintegration into a Mobile application in a simple and fully scalable way.\nscalable. Depending on the use case that is required, certain components must be installed.\nDepending on the required use case, certain components must be installed. Its high level of\nof modularity means that other new components can be added in the future\nnew components can be added in the future without affecting those already integrated in the project.\nproject."]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.em,{children:"Component"})," discussed in the current document is called\n",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"VideoCall Component"})}),". This is responsible for managing communication\nbetween a user and an agent remotely, through a communication channel\ncommunication. It is mainly oriented for use cases of\nvideo assistance."]}),"\n",(0,t.jsxs)(n.p,{children:["For more information on the base configuration, go to the [1.5.X][EN] ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK"})})})," section."]}),"\n",(0,t.jsx)(n.h3,{id:"11-minimum-requirements",children:"1.1 Minimum requirements"}),"\n",(0,t.jsx)(n.p,{children:"The minimum iOS SDK version required is as follows:"}),"\n",(0,t.jsxs)(n.p,{children:["Minimum iOS version: ",(0,t.jsx)(n.strong,{children:"13"})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"2-component-integration",children:"2. Component integration"}),"\n",(0,t.jsxs)(n.p,{children:["Before integrating this component, it is recommended to read the documentation related to  [1.5.X][EN] ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK"})})})," and follow the instructions given in this document."]}),"\n",(0,t.jsx)(n.p,{children:"This section will explain step by step how to integrate the current component into an existing project.\ncomponent into an existing project."}),"\n",(0,t.jsx)(n.h3,{id:"21-dependencies-required-for-integration",children:"2.1. Dependencies required for integration"}),"\n",(0,t.jsxs)(n.p,{children:["In order to avoid conflicts and compatibility problems, in case you want to\ninstall the component in a project containing an old version of the Facephi libraries.\nof the Facephi libraries (",(0,t.jsx)(n.em,{children:"Widgets"}),"), these must be completely removed before the installation of the components.\ncompletely before the installation of the components of the ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"SDKMobile"})})," components."]}),"\n",(0,t.jsx)(n.h4,{id:"cocoapods",children:"Cocoapods"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Currently the FacePhi libraries are distributed remotely through different dependency managers, in this case Cocoapods. The ",(0,t.jsx)(n.strong,{children:"mandatory"})," dependencies that must have been previously installed (adding them to the project's Podfile file) are:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"   pod 'FPHISDKMainComponent', '~> 1.5.0'\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"To install the SelphID component, the following entry must be included in the application's Podfile:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"pod 'FPHISDKVideoCallComponent', '~> 1.5.0'\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Once the dependencies are installed, you can use the different functionalities of the component."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If developing with ",(0,t.jsx)(n.strong,{children:"xCode15"}),", a post-installation script must be included:\n",(0,t.jsx)(n.img,{alt:"Image",src:i(3585).A+"",width:"1834",height:"510"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"22-permissions-and-configurations",children:"2.2 Permissions and configurations"}),"\n",(0,t.jsx)(n.p,{children:"In the client application where the components are going to be integrated it is necessary to incorporate the following elements in the info.plist file"}),"\n",(0,t.jsx)(n.p,{children:"It is necessary to allow the use of the camera (Privacy - Camera Usage Description)."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"3-start-new-operation",children:"3. Start new operation"}),"\n",(0,t.jsxs)(n.p,{children:["When you want to perform a certain operation, in order to generate the associated information correctly in the\nassociated information correctly in the platform, the ",(0,t.jsx)(n.strong,{children:"newOperation"})," command\nthe ",(0,t.jsx)(n.strong,{children:"newOperation"})," command must be executed beforehand."]}),"\n",(0,t.jsxs)(n.p,{children:["This command must be executed ",(0,t.jsx)(n.strong,{children:"always"}),". To learn more about how to\nto start a new operation, it is recommended to consult the documentation of\n",(0,t.jsx)(n.strong,{children:"Core Component"})," documentation, which details and explains this process.\nprocess."]}),"\n",(0,t.jsxs)(n.p,{children:["To learn more about how to start a new operation, it is recommended to consult the documentation of [1.5.X][EN] ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK"})})}),", which details and explains what this process consists of."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"4-use-of-the-component",children:"4. Use of the component"}),"\n",(0,t.jsxs)(n.p,{children:["Once the component has been started and a new operation has been created (",(0,t.jsx)(n.strong,{children:"section\n3"}),") the SDK components can be launched. There are two ways to launch\nthe component:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"[WITH TRACKING]"})," This call allows launching the functionality\nof the component normally, but ",(0,t.jsx)(n.strong,{children:"the events will be tracked"}),"\ninternal to the ",(0,t.jsx)(n.em,{children:"tracking"})," server in the event that the component\ntracking is installed and active:"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"SDKController.launchMethod(\n     VideoCallController(EnvironmentVideoCallData()) {\n         when (it.finishStatus) {\n             FinishStatus.STATUS_OK -> {\n                 //VideoCall OK\n             }\n             FinishStatus.STATUS_ERROR -> //VideoCall OK: it.errorType.name\n         }\n     }\n)\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"[NO TRACKING]"})," This call allows launching the functionality\nof the component normally, but ",(0,t.jsx)(n.strong,{children:"will not be tracked"})," any\nevent to the ",(0,t.jsx)(n.em,{children:"tracking"})," server in case the\ntracking:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"SDKController.launch(\n    VideoCallController(EnvironmentVideoCallData()) {\n        when (it.finishStatus) {\n            FinishStatus.STATUS_OK -> {\n                //VideoCall OK\n            }\n            FinishStatus.STATUS_ERROR -> //VideoCall OK: it.errorType.name\n        }\n    }\n)\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.strong,{children:"launch"})," method should be used ",(0,t.jsx)(n.strong,{children:"by default"}),". This method allows\nuse ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.em,{children:"tracking"})})," if its component is activated, and do not\nwill be used when it is disabled (or the component is not found\ninstalled)."]}),"\n",(0,t.jsxs)(n.p,{children:["On the contrary, the ",(0,t.jsx)(n.strong,{children:"launchMethod"})," method covers a special case, in\nwhich the integrator has tracking installed and activated, but in a\ncertain flow within the application you do not want to track information.\nIn that case, this method is used to prevent that information from being sent.\nto the platform."]}),"\n",(0,t.jsxs)(n.p,{children:["The configuration data (",(0,t.jsx)(n.code,{children:"EnvironmentVideoCallData"}),") also contains\nThey will be able to modify:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsxs)(n.em,{children:[(0,t.jsx)("u",{children:"optional"})," data that is normally included within the\nlicense"]})})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"tenantId"}),": Tenant identifier that refers to the\ncurrent client, necessary for connection with the service\nvideo."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"url"}),": Path to the video socket."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"apiKey"}),": ApiKey necessary for the connection with the socket\nvideo."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"5-receipt-of-the-result",children:"5. Receipt of the result"}),"\n",(0,t.jsxs)(n.p,{children:["The controllers will return the required information in SdkResult format\n-more details in the [1.5.X][EN] ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK's"})})}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"51-receiving-errors",children:"5.1. Receiving errors"}),"\n",(0,t.jsx)(n.p,{children:"On the error side, we will have the VideoCallError class."}),"\n",(0,t.jsx)(n.p,{children:"VIDEO_CALL_CANCEL_BY_USER\nVIDEO_CALL_TIMEOUT\nVIDEO_CALL_INTERNAL_ERROR\nVIDEO_CALL_DECODER_ERROR"}),"\n",(0,t.jsx)(n.h2,{id:"6-component-customization",children:"6. Component customization"}),"\n",(0,t.jsxs)(n.p,{children:["Apart from the changes that can be made at the SDK level (which\nare explained in the ",(0,t.jsx)(n.strong,{children:"Core Component"})," document), this component in\nConcrete allows the modification of specific texts."]}),"\n",(0,t.jsx)(n.h3,{id:"61-texts",children:"6.1 Texts"}),"\n",(0,t.jsxs)(n.p,{children:["If you want to modify the SDK texts, you would have to include the\nfollowing XML file in the client application, and modify the value\nof each ",(0,t.jsx)(n.em,{children:"String"})," by the desired one."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:' \x3c!-- VIDEO CALL --\x3e\n    <string name="video_call_text_waiting_agent_title">Connecting with an assistant\u2026</string>\n    <string name="video_call_agent">Agent</string>\n    <string name="video_call_exit_alert_title">Cancel process</string>\n    <string name="video_call_exit_alert_question">Are you sure you want to leave the video assistance?</string>\n    <string name="video_call_exit_alert_exit">Quit</string>\n    <string name="video_call_exit_alert_cancel">Cancel</string>\n    <string name="video_call_exit">Exit</string>\n    <string name="video_call_network_connection_error">Check your internet connection.</string>\n    <string name="video_call_image_description">Phone</string>\n    <string name="video_call_text_finish">Video assistance is complete</string>\n    <string name="video_call_text_finish_button">Exit</string>\n    <string name="video_call_accesibility_phone">Phone</string>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"62-colors",children:"6.2 Colors"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'\x3c!-- VIDEO CALL --\x3e\n<color name="colorVideoCallPhoneButtonBackground">#F44336</color>\n<color name="colorVideoCallActionsBackground">#30333d</color>\n<color name="colorVideoCallCardText">#ffffff</color>\n<color name="colorVideoCallButtonBackground">#FF526080</color>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},3585:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/fix_ldClassic-18c668c14649e02798c4250d1af70c05.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>l});var t=i(6540);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);