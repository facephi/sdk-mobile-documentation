"use strict";(self.webpackChunksdk_mobile_doc=self.webpackChunksdk_mobile_doc||[]).push([[8874],{6166:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var o=t(4848),i=t(8453);const s={},r="Voice Component",l={id:"Voice_Component",title:"Voice Component",description:"0. Requisitos base de SDK Mobile",source:"@site/docs/ios/Voice_Component.md",sourceDirName:".",slug:"/Voice_Component",permalink:"/sdk-mobile-documentation/docs/ios/Voice_Component",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Selphid Component",permalink:"/sdk-mobile-documentation/docs/ios/SelphID_Component"},next:{title:"NFC_Component",permalink:"/sdk-mobile-documentation/docs/ios/NFC_Component"}},a={},c=[{value:"0. Requisitos base de SDK Mobile",id:"0-requisitos-base-de-sdk-mobile",level:2},{value:"1. Introduction",id:"1-introduction",level:2},{value:"2. Component integration",id:"2-component-integration",level:2},{value:"2.1. Dependencies required for integration",id:"21-dependencies-required-for-integration",level:3},{value:"Cocoapods",id:"cocoapods",level:4},{value:"3. Start new operation",id:"3-start-new-operation",level:2},{value:"4. Available controllers",id:"4-available-controllers",level:2},{value:"5. Component configuration",id:"5-component-configuration",level:2},{value:"5.1. Class VoiceConfigurationData",id:"51-class-voiceconfigurationdata",level:3},{value:"5.1.1. phrases",id:"511-phrases",level:4},{value:"5.1.2. vibrationEnabled",id:"512-vibrationenabled",level:4},{value:"5.1.3. showTutorial",id:"513-showtutorial",level:4},{value:"5.1.4. extractionTimeout",id:"514-extractiontimeout",level:4},{value:"5.1.5. showDiagnostic",id:"515-showdiagnostic",level:4},{value:"6. Using the component",id:"6-using-the-component",level:2},{value:"7. Recepci\xf3n del resultado",id:"7-recepci\xf3n-del-resultado",level:2},{value:"7.1. Recepci\xf3n de errores",id:"71-recepci\xf3n-de-errores",level:3},{value:"7.2. Receiving successful execution - <em>data</em>.",id:"72-receiving-successful-execution---data",level:3},{value:"7.2.1 <em>audios</em>.",id:"721-audios",level:4},{value:"7.2.2 <em>tokenizedAudios</em>",id:"722-tokenizedaudios",level:4},{value:"Customisation of the component",id:"customisation-of-the-component",level:2},{value:"8.1 Texts",id:"81-texts",level:3}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"voice-component",children:"Voice Component"}),"\n",(0,o.jsx)(n.h2,{id:"0-requisitos-base-de-sdk-mobile",children:"0. Requisitos base de SDK Mobile"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"SDK Mobile"})," is a set of libraries (",(0,o.jsx)(n.strong,{children:"Components"}),") that provides a set of functionalities and services\na series of functionalities and services, allowing its integration in a Mobile application in a\nintegration into a Mobile application in a simple and fully scalable way.\nscalable. Depending on the use case that is required, certain components must be installed.\nDepending on the required use case, certain components must be installed. Its high level of\nof modularity means that other new components can be added in the future\nnew components can be added in the future without affecting those already integrated in the project.\nproject."]}),"\n",(0,o.jsxs)(n.p,{children:["For more information on the base configuration, go to the [1.5.X][EN] ",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"SDK m\xf3vil de iOS"})})}),"."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"1-introduction",children:"1. Introduction"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.em,{children:"Component"})," dealt with in the current document is called\n",(0,o.jsx)(n.strong,{children:"Voice Component_"}),". It is in charge of performing the voice capture from the user and the subsequent extraction of the corresponding templates.\nand the subsequent extraction of the corresponding templates.\nIts main functionalities are the following:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Input of a certain number of sentences to subsequently read each one in one step.\nin one step."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Internal management of the microphone."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Management of permissions."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Analysis of silences."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Progress analysis."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Assistant in the capture processes."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Generation of templates with voice characteristics and scores.\nscores."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"##1.1 Minimum requirements\nThe minimum iOS SDK version required is as follows:"}),"\n",(0,o.jsxs)(n.p,{children:["Minimum iOS version: ",(0,o.jsx)(n.strong,{children:"13"})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"2-component-integration",children:"2. Component integration"}),"\n",(0,o.jsxs)(n.p,{children:["Before integrating this component, it is recommended to read the documentation related to  [1.5.X][EN] ",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK"})})})," and follow the instructions given in this document."]}),"\n",(0,o.jsx)(n.p,{children:"This section will explain step by step how to integrate the current component into an existing project.\ncomponent into an existing project."}),"\n",(0,o.jsx)(n.h3,{id:"21-dependencies-required-for-integration",children:"2.1. Dependencies required for integration"}),"\n",(0,o.jsxs)(n.p,{children:["In order to avoid conflicts and compatibility problems, in case you want to\ninstall the component in a project containing an old version of the Facephi libraries.\nof the Facephi libraries (",(0,o.jsx)(n.em,{children:"Widgets"}),"), these must be completely removed before the installation of the components.\ncompletely before the installation of the components of the ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"SDKMobile"})})," components."]}),"\n",(0,o.jsx)(n.h4,{id:"cocoapods",children:"Cocoapods"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Currently FacePhi libraries are distributed remotely through different dependency managers, in this case Cocoapods. The ",(0,o.jsx)(n.strong,{children:"mandatory"})," dependencies that must have been previously installed (by adding them in the Podfile file of the project) are:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"  \tpod 'FPHISDKMainComponent', '~> 1.4.0', '~> 1.4.0'.\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"To install the SelphID component, the following entry must be included in the application Podfile:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"\tpod 'FPHISDKVoiceIDComponent', '~> 1.4.0' ````\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Once the dependencies are installed, the different functionalities of the component can be used."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["In case of development with ",(0,o.jsx)(n.strong,{children:"xCode15"})," a post-installation script must be included:"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Image",src:t(3585).A+"",width:"1834",height:"510"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"3-start-new-operation",children:"3. Start new operation"}),"\n",(0,o.jsxs)(n.p,{children:["When you want to perform a certain operation, in order to generate the associated information correctly in the\nassociated information correctly in the platform, the ",(0,o.jsx)(n.strong,{children:"newOperation"})," command\nthe ",(0,o.jsx)(n.strong,{children:"newOperation"})," command must be executed beforehand."]}),"\n",(0,o.jsxs)(n.p,{children:["This command must be executed ",(0,o.jsx)(n.strong,{children:"always"}),". To learn more about how to\nto start a new operation, it is recommended to consult the documentation of\n",(0,o.jsx)(n.strong,{children:"Core Component"})," documentation, which details and explains this process.\nprocess."]}),"\n",(0,o.jsxs)(n.p,{children:["To learn more about how to start a new operation, it is recommended to consult the documentation of [1.5.X][EN] ",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.strong,{children:(0,o.jsx)("a",{href:"Mobile_SDK","data-linked-resource-id":"2605678593","data-linked-resource-version":"15","data-linked-resource-type":"page",children:"iOS Mobile SDK"})})}),", which details and explains what this process consists of."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"4-available-controllers",children:"4. Available controllers"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Controller"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Description"})})]})}),(0,o.jsx)(n.tbody,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"VoiceController"}),(0,o.jsx)(n.td,{children:"Voice identification main controller"})]})})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"5-component-configuration",children:"5. Component configuration"}),"\n",(0,o.jsx)(n.p,{children:"To configure the current component, once it has been initialised, you must\ncreate a"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"VoiceConfigurationData"})," object and pass it as parameter to the SDKController\nduring the launch of the component."]}),"\n",(0,o.jsx)(n.p,{children:"The following section will show the fields that are part of this class and what each one is used for.\nclass and what each of them is used for."}),"\n",(0,o.jsx)(n.h3,{id:"51-class-voiceconfigurationdata",children:"5.1. Class VoiceConfigurationData"}),"\n",(0,o.jsx)(n.h4,{id:"511-phrases",children:"5.1.1. phrases"}),"\n",(0,o.jsx)(n.p,{children:"Indicates the phrase(s) needed to capture."}),"\n",(0,o.jsx)(n.h4,{id:"512-vibrationenabled",children:"5.1.2. vibrationEnabled"}),"\n",(0,o.jsx)(n.p,{children:"Indicates the activation of the vibration when the widget completes successfully.\nsuccessfully."}),"\n",(0,o.jsx)(n.h4,{id:"513-showtutorial",children:"5.1.3. showTutorial"}),"\n",(0,o.jsx)(n.p,{children:"Indicates whether the component activates the tutorial screen. This view intuitively\nintuitively explains how the capture is performed."}),"\n",(0,o.jsx)(n.h4,{id:"514-extractiontimeout",children:"5.1.4. extractionTimeout"}),"\n",(0,o.jsx)(n.p,{children:"Sets the maximum time that the capture can be performed."}),"\n",(0,o.jsx)(n.h4,{id:"515-showdiagnostic",children:"5.1.5. showDiagnostic"}),"\n",(0,o.jsx)(n.p,{children:"Show diagnostic screens at the end of the process"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"6-using-the-component",children:"6. Using the component"}),"\n",(0,o.jsxs)(n.p,{children:["Once the component has been started and a new operation has been created (",(0,o.jsx)(n.strong,{children:"paragraph\n3"}),") the SDK components can be launched. There are two ways to launch\nthe component:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"[WITH TRACKING]"})," This call allows you to launch the functionality\nfunctionality of the component normally, but internal events will be tracked to the ",(0,o.jsx)(n.em,{children:"tracking"})," server.\nevents will be tracked to the ",(0,o.jsx)(n.em,{children:"tracking"})," server:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:"let controller = VoiceController(\n            data: data,\n            output: { sdkResult in\n                let voiceIdSdkResult = SdkResult(finishStatus: sdkResult.finishStatus, errorType: sdkResult.errorType, data: sdkResult.data)\n                output(voiceIdSdkResult)\n            }, viewController: viewController)\n        SDKController.shared.launchTokenizableMethod(controller: controller)\n"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"[NO TRACKING]"})," This call allows to launch the functionality of the\nfunctionality of the component normally, but ",(0,o.jsx)(n.strong,{children:"no event will be tracked"})," to the\nevent to the ",(0,o.jsx)(n.em,{children:"tracking"})," server:"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:"let controller = VoiceController(\n            data: data,\n            output: { sdkResult in\n                let voiceIdSdkResult = SdkResult(finishStatus: sdkResult.finishStatus, errorType: sdkResult.errorType, data: sdkResult.data)\n                output(voiceIdSdkResult)\n            }, viewController: viewController)\n        SDKController.shared.launchTokenizableMethod(controller: controller)\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.strong,{children:"launchTokenizableMethod"})," method must be used ",(0,o.jsx)(n.strong,{children:"by default"}),". This method allowsuse ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.em,{children:"tracking"})})," if your component is enabled, and will not use it when it is\nwhen it is disabled (or the component is not installed).\ninstalled)."]}),"\n",(0,o.jsxs)(n.p,{children:["On the other hand, the ",(0,o.jsx)(n.strong,{children:"launchTokenizableMethod"})," method covers a special case, in which the\nwhere the integrator has the tracking installed and activated, but in a given flow within the\nflow within the application does not want to track information.\nIn that case this method is used to prevent that information from being sent to the platform.\nto the platform."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"7-recepci\xf3n-del-resultado",children:"7. Recepci\xf3n del resultado"}),"\n",(0,o.jsxs)(n.p,{children:["Los controllers devolver\xe1n la informaci\xf3n necesaria en formato\nSdkResult. M\xe1s informaci\xf3n en la secci\xf3n de ",(0,o.jsx)("a",{href:"Mobile_SDK#6-retorno-de-resultado",rel:"nofollow",children:"6. Retorno de resultado"})," del Android Mobile SDK."]}),"\n",(0,o.jsx)(n.h3,{id:"71-recepci\xf3n-de-errores",children:"7.1. Recepci\xf3n de errores"}),"\n",(0,o.jsx)(n.p,{children:"En la parte del error, dispondremos de la clase VoiceError."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:" INTERNAL_ERROR\n MIC_PERMISSION_DENIED\n TIMEOUT\n CANCEL_BY_USER\n VOICE_ENROLLMENT_PARSE_RESPONSE\n VOICE_MATCHING_PARSE_RESPONSE\n"})}),"\n",(0,o.jsxs)(n.h3,{id:"72-receiving-successful-execution---data",children:["7.2. Receiving successful execution - ",(0,o.jsx)(n.em,{children:"data"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["In the ",(0,o.jsx)(n.em,{children:"data"})," part, we will have the ",(0,o.jsx)(n.em,{children:"VoiceResult"})," class."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.em,{children:"data"})," field is variable and will depend on which component has returned the result.\nthe result has been returned. In the case of this component, the returned fields are\nthe following:"]}),"\n",(0,o.jsxs)(n.h4,{id:"721-audios",children:["7.2.1 ",(0,o.jsx)(n.em,{children:"audios"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Contains a list of captured audios in ByteArray format."}),"\n",(0,o.jsxs)(n.h4,{id:"722-tokenizedaudios",children:["7.2.2 ",(0,o.jsx)(n.em,{children:"tokenizedAudios"})]}),"\n",(0,o.jsx)(n.p,{children:"Contains the list of captured audios in tokenised format from\nFacephi tokenised format."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"customisation-of-the-component",children:"Customisation of the component"}),"\n",(0,o.jsx)(n.h3,{id:"81-texts",children:"8.1 Texts"}),"\n",(0,o.jsxs)(n.p,{children:["If you want to modify the SDK texts you would have to include the\nXML file in the client application, and modify the value of each ",(0,o.jsx)(n.em,{children:"String"})," to the desired one.\nvalue of each ",(0,o.jsx)(n.em,{children:"String"})," to the desired one."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'"voice_component_success_records_message" = "%d/%d successful recordings";\n"voice_component_read_message" = "Say loudly:";\n"voice_component_speech_message" = "Speak clearly and close to the microphone";\n"voice_component_speech_noisy_message" = "There is too much noise. Try to be in a quiet environment.";\n"voice_component_success_message" = "Recording registred";\n"voice_component_phrase_generic_error_feedback" = "Please, repeat the sentence.";\n"voice_component_phrase_long_silence_feedback" = "Talk for 2 seconds or more.";\n"voice_component_phrase_long_reverberation_feedback" = "Too much echo. Try in another environment.";\n"voice_component_tutorial_title" = "Voice Recognition";\n"voice_component_tutorial_message" = "Speak clearly and aloud\\n\\nMake sure your surroundings are silent";\n"voice_component_tutorial_button" = "Start";\n"voice_component_success_button" = "Continue";\n"voice_component_ok"="Ok";\n"voice_component_cancel"="Cancel";\n"voice_component_end_confirmation_title" = "Are you sure you will finish the process?";\n"voice_component_text_results_finish_button" = "Finish";\n"voice_component_agree" = "Accept";\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},3585:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/fix_ldClassic-18c668c14649e02798c4250d1af70c05.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var o=t(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);